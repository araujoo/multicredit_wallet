  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ListingCardsTest: test_listing_cards
------------------------------------
Started GET "/cards" for 127.0.0.1 at 2017-11-16 02:11:07 -0200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ListingCardsTest: test_listing_cards
------------------------------------
Started GET "/cards" for 127.0.0.1 at 2017-11-16 02:17:39 -0200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-16 02:22:50 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (2.0ms)
Completed 200 OK in 661ms (Views: 627.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-16 02:22:50 -0200
Processing by CreditCardsController#remove as HTML
  Rendering credit_cards/remove.html.erb within layouts/application
  Rendered credit_cards/remove.html.erb within layouts/application (0.5ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ListingCardsTest: test_listing_cards
------------------------------------
Started GET "/credit_cards" for 127.0.0.1 at 2017-11-16 02:22:50 -0200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-16 02:23:32 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (1.7ms)
Completed 200 OK in 229ms (Views: 211.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-16 02:23:32 -0200
Processing by CreditCardsController#remove as HTML
  Rendering credit_cards/remove.html.erb within layouts/application
  Rendered credit_cards/remove.html.erb within layouts/application (0.5ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ListingCardsTest: test_listing_cards
------------------------------------
Started GET "/credit_cards/open" for 127.0.0.1 at 2017-11-16 02:23:32 -0200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (105.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (70.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (0)[0m
  [1m[35m (114.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2017-11-16 04:28:01.723114"], ["updated_at", "2017-11-16 04:28:01.723114"]]
  [1m[35m (95.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (93.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (76.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (0)[0m
  [1m[35m (107.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2017-11-16 04:29:35.689441"], ["updated_at", "2017-11-16 04:29:35.689441"]]
  [1m[35m (94.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-16 02:29:36 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (1.6ms)
Completed 200 OK in 236ms (Views: 219.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-16 02:29:36 -0200
Processing by CreditCardsController#remove as HTML
  Rendering credit_cards/remove.html.erb within layouts/application
  Rendered credit_cards/remove.html.erb within layouts/application (0.5ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-16 02:29:36 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (0.5ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (73.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (79.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (0)[0m
  [1m[35m (83.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2017-11-16 04:30:37.182376"], ["updated_at", "2017-11-16 04:30:37.182376"]]
  [1m[35m (70.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-16 02:30:37 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (1.7ms)
Completed 200 OK in 299ms (Views: 281.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-16 02:30:37 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (0.5ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-16 02:30:37 -0200
Processing by CreditCardsController#remove as HTML
  Rendering credit_cards/remove.html.erb within layouts/application
  Rendered credit_cards/remove.html.erb within layouts/application (0.5ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (80.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (57.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (0)[0m
  [1m[35m (93.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2017-11-16 04:32:19.248027"], ["updated_at", "2017-11-16 04:32:19.248027"]]
  [1m[35m (92.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-16 02:32:19 -0200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-16 02:32:19 -0200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-16 02:32:19 -0200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (107.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (70.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (0)[0m
  [1m[35m (124.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2017-11-16 04:32:47.611728"], ["updated_at", "2017-11-16 04:32:47.611728"]]
  [1m[35m (106.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-16 02:32:48 -0200
Processing by CreditCardsController#add as HTML
Completed 200 OK in 17ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-16 02:32:48 -0200
Processing by CreditCardsController#add as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-16 02:32:48 -0200
Processing by CreditCardsController#remove as HTML
  Rendering credit_cards/remove.html.erb within layouts/application
  Rendered credit_cards/remove.html.erb within layouts/application (1.7ms)
Completed 200 OK in 238ms (Views: 236.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (98.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (90.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (0)[0m
  [1m[35m (116.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2017-11-17 07:44:18.035205"], ["updated_at", "2017-11-17 07:44:18.035205"]]
  [1m[35m (98.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-17 05:44:18 -0200
Processing by CreditCardsController#remove as HTML
  Rendering credit_cards/remove.html.erb within layouts/application
  Rendered credit_cards/remove.html.erb within layouts/application (1.7ms)
Completed 200 OK in 320ms (Views: 302.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 05:44:18 -0200
Processing by CreditCardsController#add as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 05:44:18 -0200
Processing by CreditCardsController#add as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (174.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (93.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (0)[0m
  [1m[35m (112.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2017-11-17 07:53:12.810020"], ["updated_at", "2017-11-17 07:53:12.810020"]]
  [1m[35m (97.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (115.6ms)[0m  [1m[35mCREATE TABLE "credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "card_nr" integer, "print_name" varchar, "billing_date" date, "expire_date" date, "cvv" integer, "limit" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (132.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (108.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20171117074905)[0m
  [1m[35m (97.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2017-11-17 07:53:31.497433"], ["updated_at", "2017-11-17 07:53:31.497433"]]
  [1m[35m (101.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (1.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 07:53:31.685734', '2017-11-17 07:53:31.685734', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 07:53:31.685734', '2017-11-17 07:53:31.685734', 298486374)[0m
  [1m[35m (94.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 05:53:31 -0200
Processing by CreditCardsController#add as HTML
Completed 200 OK in 17ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 05:53:32 -0200
Processing by CreditCardsController#add as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-17 05:53:32 -0200
Processing by CreditCardsController#remove as HTML
  Rendering credit_cards/remove.html.erb within layouts/application
  Rendered credit_cards/remove.html.erb within layouts/application (1.8ms)
Completed 200 OK in 254ms (Views: 252.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 07:54:07.099027', '2017-11-17 07:54:07.099027', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 07:54:07.099027', '2017-11-17 07:54:07.099027', 298486374)[0m
  [1m[35m (65.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 05:54:07 -0200
Processing by CreditCardsController#add as HTML
Completed 200 OK in 17ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-17 05:54:07 -0200
Processing by CreditCardsController#remove as HTML
  Rendering credit_cards/remove.html.erb within layouts/application
  Rendered credit_cards/remove.html.erb within layouts/application (1.6ms)
Completed 200 OK in 211ms (Views: 209.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 05:54:07 -0200
Processing by CreditCardsController#add as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 07:54:34.259626', '2017-11-17 07:54:34.259626', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 07:54:34.259626', '2017-11-17 07:54:34.259626', 298486374)[0m
  [1m[35m (118.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 05:54:34 -0200
Processing by CreditCardsController#add as HTML
Completed 200 OK in 17ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-17 05:54:34 -0200
Processing by CreditCardsController#remove as HTML
  Rendering credit_cards/remove.html.erb within layouts/application
  Rendered credit_cards/remove.html.erb within layouts/application (1.6ms)
Completed 200 OK in 208ms (Views: 206.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 05:54:34 -0200
Processing by CreditCardsController#add as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 07:55:34.421456', '2017-11-17 07:55:34.421456', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 07:55:34.421456', '2017-11-17 07:55:34.421456', 298486374)[0m
  [1m[35m (72.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 05:55:34 -0200
Processing by CreditCardsController#add as HTML
Completed 200 OK in 17ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-17 05:55:34 -0200
Processing by CreditCardsController#remove as HTML
  Rendering credit_cards/remove.html.erb within layouts/application
  Rendered credit_cards/remove.html.erb within layouts/application (1.6ms)
Completed 200 OK in 276ms (Views: 275.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 05:55:35 -0200
Processing by CreditCardsController#add as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 07:59:38.780316', '2017-11-17 07:59:38.780316', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 07:59:38.780316', '2017-11-17 07:59:38.780316', 298486374)[0m
  [1m[35m (55.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 05:59:39 -0200
Processing by CreditCardsController#add as HTML
Completed 200 OK in 18ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-17 05:59:39 -0200
Processing by CreditCardsController#remove as HTML
  Rendering credit_cards/remove.html.erb within layouts/application
  Rendered credit_cards/remove.html.erb within layouts/application (1.7ms)
Completed 200 OK in 294ms (Views: 293.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 05:59:39 -0200
Processing by CreditCardsController#add as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:02:07.557962', '2017-11-17 08:02:07.557962', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:02:07.557962', '2017-11-17 08:02:07.557962', 298486374)[0m
  [1m[35m (56.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:02:07 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (1.6ms)
Completed 200 OK in 310ms (Views: 290.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:02:08 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (0.8ms)
Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-17 06:02:08 -0200
Processing by CreditCardsController#remove as HTML
  Rendering credit_cards/remove.html.erb within layouts/application
  Rendered credit_cards/remove.html.erb within layouts/application (0.6ms)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:07:30.537451', '2017-11-17 08:07:30.537451', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:07:30.537451', '2017-11-17 08:07:30.537451', 298486374)[0m
  [1m[35m (70.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:07:30 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (1.6ms)
Completed 200 OK in 307ms (Views: 289.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-17 06:07:31 -0200
Processing by CreditCardsController#remove as HTML
  Rendering credit_cards/remove.html.erb within layouts/application
  Rendered credit_cards/remove.html.erb within layouts/application (1.5ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:07:31 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (0.5ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:13:13.356127', '2017-11-17 08:13:13.356127', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:13:13.356127', '2017-11-17 08:13:13.356127', 298486374)[0m
  [1m[35m (81.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:13:13 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (1.8ms)
Completed 200 OK in 223ms (Views: 205.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-17 06:13:13 -0200
Processing by CreditCardsController#remove as HTML
  Rendering credit_cards/remove.html.erb within layouts/application
  Rendered credit_cards/remove.html.erb within layouts/application (0.5ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:13:13 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (0.6ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:14:58.208503', '2017-11-17 08:14:58.208503', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:14:58.208503', '2017-11-17 08:14:58.208503', 298486374)[0m
  [1m[35m (104.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:14:58 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (1.6ms)
Completed 200 OK in 306ms (Views: 289.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-17 06:14:58 -0200
Processing by CreditCardsController#remove as HTML
  Rendering credit_cards/remove.html.erb within layouts/application
  Rendered credit_cards/remove.html.erb within layouts/application (0.5ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:14:58 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (0.6ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:15:54.957129', '2017-11-17 08:15:54.957129', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:15:54.957129', '2017-11-17 08:15:54.957129', 298486374)[0m
  [1m[35m (61.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:15:55 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (1.6ms)
Completed 200 OK in 227ms (Views: 209.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-17 06:15:55 -0200
Processing by CreditCardsController#remove as HTML
  Rendering credit_cards/remove.html.erb within layouts/application
  Rendered credit_cards/remove.html.erb within layouts/application (0.5ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:15:55 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (0.5ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:16:10.110462', '2017-11-17 08:16:10.110462', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:16:10.110462', '2017-11-17 08:16:10.110462', 298486374)[0m
  [1m[35m (59.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:16:10 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (1.7ms)
Completed 200 OK in 232ms (Views: 215.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-17 06:16:10 -0200
Processing by CreditCardsController#remove as HTML
  Rendering credit_cards/remove.html.erb within layouts/application
  Rendered credit_cards/remove.html.erb within layouts/application (0.5ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:16:10 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (0.5ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:16:20.954395', '2017-11-17 08:16:20.954395', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:16:20.954395', '2017-11-17 08:16:20.954395', 298486374)[0m
  [1m[35m (66.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:16:21 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (1.6ms)
Completed 200 OK in 304ms (Views: 286.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-17 06:16:21 -0200
Processing by CreditCardsController#remove as HTML
  Rendering credit_cards/remove.html.erb within layouts/application
  Rendered credit_cards/remove.html.erb within layouts/application (0.5ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:16:21 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (0.5ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:17:00.203800', '2017-11-17 08:17:00.203800', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:17:00.203800', '2017-11-17 08:17:00.203800', 298486374)[0m
  [1m[35m (64.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:17:00 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (1.7ms)
Completed 200 OK in 222ms (Views: 204.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:17:00 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (0.5ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-17 06:17:00 -0200
Processing by CreditCardsController#remove as HTML
  Rendering credit_cards/remove.html.erb within layouts/application
  Rendered credit_cards/remove.html.erb within layouts/application (0.5ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:20:25.798315', '2017-11-17 08:20:25.798315', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:20:25.798315', '2017-11-17 08:20:25.798315', 298486374)[0m
  [1m[35m (76.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:20:26 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (1.5ms)
Completed 200 OK in 221ms (Views: 203.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-17 06:20:26 -0200
Processing by CreditCardsController#remove as HTML
  Rendering credit_cards/remove.html.erb within layouts/application
  Rendered credit_cards/remove.html.erb within layouts/application (0.5ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:20:26 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (0.5ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:22:06.122218', '2017-11-17 08:22:06.122218', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:22:06.122218', '2017-11-17 08:22:06.122218', 298486374)[0m
  [1m[35m (92.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:22:06 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (1.6ms)
Completed 200 OK in 304ms (Views: 286.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:22:06 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (0.5ms)
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-17 06:22:06 -0200
Processing by CreditCardsController#remove as HTML
  Rendering credit_cards/remove.html.erb within layouts/application
  Rendered credit_cards/remove.html.erb within layouts/application (0.5ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:22:44.206881', '2017-11-17 08:22:44.206881', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:22:44.206881', '2017-11-17 08:22:44.206881', 298486374)[0m
  [1m[35m (121.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:22:44 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (1.6ms)
Completed 200 OK in 228ms (Views: 210.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-17 06:22:44 -0200
Processing by CreditCardsController#remove as HTML
  Rendering credit_cards/remove.html.erb within layouts/application
  Rendered credit_cards/remove.html.erb within layouts/application (0.5ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/list" for 127.0.0.1 at 2017-11-17 06:22:44 -0200
Processing by CreditCardsController#list as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 14ms (Views: 13.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:23:10.215296', '2017-11-17 08:23:10.215296', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:23:10.215296', '2017-11-17 08:23:10.215296', 298486374)[0m
  [1m[35m (69.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/list" for 127.0.0.1 at 2017-11-17 06:23:10 -0200
Processing by CreditCardsController#list as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 30ms (Views: 13.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-17 06:23:10 -0200
Processing by CreditCardsController#remove as HTML
  Rendering credit_cards/remove.html.erb within layouts/application
  Rendered credit_cards/remove.html.erb within layouts/application (2.2ms)
Completed 200 OK in 214ms (Views: 212.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:23:10 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (0.5ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:23:31.798815', '2017-11-17 08:23:31.798815', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:23:31.798815', '2017-11-17 08:23:31.798815', 298486374)[0m
  [1m[35m (65.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/list" for 127.0.0.1 at 2017-11-17 06:23:32 -0200
Processing by CreditCardsController#list as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 30ms (Views: 13.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:23:32 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (1.8ms)
Completed 200 OK in 204ms (Views: 202.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-17 06:23:32 -0200
Processing by CreditCardsController#remove as HTML
  Rendering credit_cards/remove.html.erb within layouts/application
  Rendered credit_cards/remove.html.erb within layouts/application (0.5ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:24:21.171323', '2017-11-17 08:24:21.171323', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:24:21.171323', '2017-11-17 08:24:21.171323', 298486374)[0m
  [1m[35m (51.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/list" for 127.0.0.1 at 2017-11-17 06:24:21 -0200
Processing by CreditCardsController#list as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 30ms (Views: 13.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:24:21 -0200
Processing by CreditCardsController#add as HTML
  Rendering credit_cards/add.html.erb within layouts/application
  Rendered credit_cards/add.html.erb within layouts/application (1.7ms)
Completed 200 OK in 214ms (Views: 212.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-17 06:24:21 -0200
Processing by CreditCardsController#remove as HTML
  Rendering credit_cards/remove.html.erb within layouts/application
  Rendered credit_cards/remove.html.erb within layouts/application (0.5ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:24:53.476891', '2017-11-17 08:24:53.476891', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:24:53.476891', '2017-11-17 08:24:53.476891', 298486374)[0m
  [1m[35m (83.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/list" for 127.0.0.1 at 2017-11-17 06:24:53 -0200
Processing by CreditCardsController#list as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 30ms (Views: 12.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:24:53 -0200
Processing by CreditCardsController#add as HTML
Completed 406 Not Acceptable in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-17 06:24:53 -0200
Processing by CreditCardsController#remove as HTML
Completed 406 Not Acceptable in 18ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:27:27.914517', '2017-11-17 08:27:27.914517', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:27:27.914517', '2017-11-17 08:27:27.914517', 298486374)[0m
  [1m[35m (87.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/list" for 127.0.0.1 at 2017-11-17 06:27:28 -0200
Processing by CreditCardsController#list as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 31ms (Views: 13.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
AddingCardsTest: test_list_cards
--------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:27:28 -0200
Processing by CreditCardsController#add as HTML
Completed 406 Not Acceptable in 16ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_remove_cards
----------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-17 06:27:28 -0200
Processing by CreditCardsController#remove as HTML
Completed 406 Not Acceptable in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
Started GET "/credit_cards/add" for 127.0.0.1 at 2017-11-17 06:27:28 -0200
Processing by CreditCardsController#add as HTML
Completed 406 Not Acceptable in 16ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
Started GET "/credit_cards/remove" for 127.0.0.1 at 2017-11-17 06:27:28 -0200
Processing by CreditCardsController#remove as HTML
Completed 406 Not Acceptable in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:28:07.349806', '2017-11-17 08:28:07.349806', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:28:07.349806', '2017-11-17 08:28:07.349806', 298486374)[0m
  [1m[35m (79.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/list" for 127.0.0.1 at 2017-11-17 06:28:07 -0200
Processing by CreditCardsController#list as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 43ms (Views: 25.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:28:42.519046', '2017-11-17 08:28:42.519046', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:28:42.519046', '2017-11-17 08:28:42.519046', 298486374)[0m
  [1m[35m (79.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardsControllerTest: test_should_get_add
----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardsControllerTest: test_should_get_remove
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/list" for 127.0.0.1 at 2017-11-17 06:28:42 -0200
Processing by CreditCardsController#list as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 30ms (Views: 13.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:33:49.007097', '2017-11-17 08:33:49.007097', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 08:33:49.007097', '2017-11-17 08:33:49.007097', 298486374)[0m
  [1m[35m (115.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/list" for 127.0.0.1 at 2017-11-17 06:33:49 -0200
Processing by CreditCardsController#list as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 30ms (Views: 13.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 23:36:06.679927', '2017-11-17 23:36:06.679927', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-17 23:36:06.679927', '2017-11-17 23:36:06.679927', 298486374)[0m
  [1m[35m (56.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/list" for 127.0.0.1 at 2017-11-17 21:36:07 -0200
Processing by CreditCardsController#list as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 33ms (Views: 14.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 20:04:07.925658', '2017-11-19 20:04:07.925658', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 20:04:07.925658', '2017-11-19 20:04:07.925658', 298486374)[0m
  [1m[35m (76.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/list" for 127.0.0.1 at 2017-11-19 18:04:08 -0200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 20:10:28.502280', '2017-11-19 20:10:28.502280', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 20:10:28.502280', '2017-11-19 20:10:28.502280', 298486374)[0m
  [1m[35m (63.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/list" for 127.0.0.1 at 2017-11-19 18:10:28 -0200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 20:11:06.475229', '2017-11-19 20:11:06.475229', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 20:11:06.475229', '2017-11-19 20:11:06.475229', 298486374)[0m
  [1m[35m (127.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-19 18:11:06 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 31ms (Views: 14.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 22:21:30.632946', '2017-11-19 22:21:30.632946', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 22:21:30.632946', '2017-11-19 22:21:30.632946', 298486374)[0m
  [1m[35m (54.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-19 20:21:30 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 35ms (Views: 15.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-19 20:21:31 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 22:22:39.862919', '2017-11-19 22:22:39.862919', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 22:22:39.862919', '2017-11-19 22:22:39.862919', 298486374)[0m
  [1m[35m (62.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-19 20:22:40 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 36ms (Views: 17.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-19 20:22:40 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 22:23:27.938924', '2017-11-19 22:23:27.938924', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 22:23:27.938924', '2017-11-19 22:23:27.938924', 298486374)[0m
  [1m[35m (91.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-19 20:23:28 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 38ms (Views: 20.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-19 20:23:28 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 22:23:36.318415', '2017-11-19 22:23:36.318415', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 22:23:36.318415', '2017-11-19 22:23:36.318415', 298486374)[0m
  [1m[35m (57.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-19 20:23:36 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-19 20:23:36 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 14ms (Views: 13.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 22:24:16.444805', '2017-11-19 22:24:16.444805', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 22:24:16.444805', '2017-11-19 22:24:16.444805', 298486374)[0m
  [1m[35m (57.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-19 20:24:16 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-19 20:24:16 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 14ms (Views: 13.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 22:25:50.521801', '2017-11-19 22:25:50.521801', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 22:25:50.521801', '2017-11-19 22:25:50.521801', 298486374)[0m
  [1m[35m (64.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-19 20:25:50 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-19 20:25:50 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 17ms (Views: 15.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 22:26:30.654343', '2017-11-19 22:26:30.654343', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 22:26:30.654343', '2017-11-19 22:26:30.654343', 298486374)[0m
  [1m[35m (68.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-19 20:26:30 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 31ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-19 20:26:31 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 15ms (Views: 14.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 22:26:47.271465', '2017-11-19 22:26:47.271465', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 22:26:47.271465', '2017-11-19 22:26:47.271465', 298486374)[0m
  [1m[35m (120.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-19 20:26:47 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 30ms (Views: 13.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-19 20:26:47 -0200
Processing by CreditCardsController#add_card as HTML
Completed 201 Created in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 22:27:12.673210', '2017-11-19 22:27:12.673210', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 22:27:12.673210', '2017-11-19 22:27:12.673210', 298486374)[0m
  [1m[35m (119.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-19 20:27:13 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 30ms (Views: 13.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-19 20:27:13 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 22:27:45.472833', '2017-11-19 22:27:45.472833', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 22:27:45.472833', '2017-11-19 22:27:45.472833', 298486374)[0m
  [1m[35m (57.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-19 20:27:45 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-19 20:27:45 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 15ms (Views: 14.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 22:33:51.738277', '2017-11-19 22:33:51.738277', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-19 22:33:51.738277', '2017-11-19 22:33:51.738277', 298486374)[0m
  [1m[35m (55.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-19 20:33:51 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-19 20:33:52 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 15ms (Views: 13.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2017-11-21 01:37:43.501613"], ["key", "environment"]]
  [1m[35m (86.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (92.0ms)[0m  [1m[35mCREATE TABLE "credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "card_nr" varchar, "print_name" varchar, "billing_date" varchar, "expire_date" varchar, "cvv" integer, "limit" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "current_balance" integer)[0m
  [1m[35m (99.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (82.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20171121013224)[0m
  [1m[35m (0.3ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (87.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20171120232600),
(20171117074905);

[0m
  [1m[35m (81.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2017-11-21 01:37:52.742608"], ["updated_at", "2017-11-21 01:37:52.742608"]]
  [1m[35m (68.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-21 01:37:53.018225', '2017-11-21 01:37:53.018225', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-21 01:37:53.018225', '2017-11-21 01:37:53.018225', 298486374)[0m
  [1m[35m (86.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-20 23:37:53 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 14.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-20 23:37:53 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (73.8ms)[0m  [1m[35mCREATE TABLE "credit_cards" ("card_nr" decimal NOT NULL PRIMARY KEY, "print_name" varchar, "billing_date" varchar, "expire_date" varchar, "cvv" integer, "limit" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "current_balance" integer)[0m
  [1m[35m (0.2ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='sqlite_autoindex_credit_cards_1' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='sqlite_autoindex_credit_cards_1' AND type='index'
[0m
  [1m[35m (101.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (92.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateCreditCards (20171117074905)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "card_nr" integer, "print_name" varchar, "billing_date" date, "expire_date" date, "cvv" integer, "limit" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (74.1ms)[0m  [1m[35mCREATE TABLE "credit_cards" ("card_nr" decimal NOT NULL PRIMARY KEY, "print_name" varchar, "billing_date" varchar, "expire_date" varchar, "cvv" integer, "limit" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "current_balance" integer)[0m
  [1m[35m (0.3ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='sqlite_autoindex_credit_cards_1' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='sqlite_autoindex_credit_cards_1' AND type='index'
[0m
  [1m[35m (98.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (84.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateCreditCards (20171117074905)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "card_nr" integer, "print_name" varchar, "billing_date" date, "expire_date" date, "cvv" integer, "limit" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (65.6ms)[0m  [1m[35mCREATE TABLE "credit_cards" ("card_nr" decimal NOT NULL PRIMARY KEY, "print_name" varchar, "billing_date" varchar, "expire_date" varchar, "cvv" integer, "limit" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "current_balance" integer)[0m
  [1m[35m (0.2ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='sqlite_autoindex_credit_cards_1' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='sqlite_autoindex_credit_cards_1' AND type='index'
[0m
  [1m[35m (87.2ms)[0m  [1m[35mCREATE TABLE "credit_cards" ("card_nr" decimal NOT NULL PRIMARY KEY, "print_name" varchar, "billing_date" varchar, "expire_date" varchar, "cvv" integer, "limit" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "current_balance" integer)[0m
  [1m[35m (0.2ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='sqlite_autoindex_credit_cards_1' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='sqlite_autoindex_credit_cards_1' AND type='index'
[0m
  [1m[35m (129.0ms)[0m  [1m[35mCREATE TABLE "credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "card_nr" integer, "print_name" varchar, "billing_date" varchar, "expire_date" varchar, "cvv" integer, "limit" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "current_balance" integer)[0m
  [1m[35m (131.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (58.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20171120232600)[0m
  [1m[35m (0.2ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (54.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20171117074905);

[0m
  [1m[35m (72.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2017-11-25 19:16:13.524674"], ["updated_at", "2017-11-25 19:16:13.524674"]]
  [1m[35m (60.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:16:13.808815', '2017-11-25 19:16:13.808815')[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:16:13.808815', '2017-11-25 19:16:13.808815')[0m
  [1m[35m (71.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 17:16:14 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 70ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 17:16:14 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:23:24.148043', '2017-11-25 19:23:24.148043')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:23:24.148043', '2017-11-25 19:23:24.148043')[0m
  [1m[35m (102.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 17:23:24 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 17:23:24 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 17ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:24:23.393968', '2017-11-25 19:24:23.393968')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:24:23.393968', '2017-11-25 19:24:23.393968')[0m
  [1m[35m (105.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 17:24:23 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 17:24:23 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 16ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:24:39.719841', '2017-11-25 19:24:39.719841')[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:24:39.719841', '2017-11-25 19:24:39.719841')[0m
  [1m[35m (113.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 17:24:40 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.5ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 34ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 17:24:40 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:27:25.211405', '2017-11-25 19:27:25.211405')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:27:25.211405', '2017-11-25 19:27:25.211405')[0m
  [1m[35m (90.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 17:27:25 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 34ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:28:08.238803', '2017-11-25 19:28:08.238803')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:28:08.238803', '2017-11-25 19:28:08.238803')[0m
  [1m[35m (55.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 17:28:08 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 40ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 17:28:08 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:36:18.615887', '2017-11-25 19:36:18.615887')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:36:18.615887', '2017-11-25 19:36:18.615887')[0m
  [1m[35m (53.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 17:36:18 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 17:36:18 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 17ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:36:57.129091', '2017-11-25 19:36:57.129091')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:36:57.129091', '2017-11-25 19:36:57.129091')[0m
  [1m[35m (65.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 17:36:57 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 17:36:57 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 17ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:37:43.594671', '2017-11-25 19:37:43.594671')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:37:43.594671', '2017-11-25 19:37:43.594671')[0m
  [1m[35m (47.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 17:37:43 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"card_nr"=>"1"}
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 17:37:43 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 16ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:38:07.025890', '2017-11-25 19:38:07.025890')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:38:07.025890', '2017-11-25 19:38:07.025890')[0m
  [1m[35m (117.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 17:38:07 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 33ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 17:38:07 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"card_nr"=>"1"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:38:26.279710', '2017-11-25 19:38:26.279710')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:38:26.279710', '2017-11-25 19:38:26.279710')[0m
  [1m[35m (99.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 17:38:26 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"card_nr"=>"1"}
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 17:38:26 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 16ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:38:53.713945', '2017-11-25 19:38:53.713945')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:38:53.713945', '2017-11-25 19:38:53.713945')[0m
  [1m[35m (55.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 17:38:54 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 33ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 17:38:54 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"article"=>{"title"=>"can create", "body"=>"article successfully."}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:39:31.674886', '2017-11-25 19:39:31.674886')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:39:31.674886', '2017-11-25 19:39:31.674886')[0m
  [1m[35m (52.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 17:39:31 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 17:39:31 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"article"=>{"title"=>"can create", "body"=>"article successfully."}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:40:15.986496', '2017-11-25 19:40:15.986496')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:40:15.986496', '2017-11-25 19:40:15.986496')[0m
  [1m[35m (67.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 17:40:16 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 33ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 17:40:16 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"article"=>{"title"=>"can create", "body"=>"article successfully."}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:41:19.627770', '2017-11-25 19:41:19.627770')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 19:41:19.627770', '2017-11-25 19:41:19.627770')[0m
  [1m[35m (65.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 17:41:19 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:08:23.829973', '2017-11-25 20:08:23.829973')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:08:23.829973', '2017-11-25 20:08:23.829973')[0m
  [1m[35m (49.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:08:24 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:08:45.314316', '2017-11-25 20:08:45.314316')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:08:45.314316', '2017-11-25 20:08:45.314316')[0m
  [1m[35m (67.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:08:45 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 33ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:08:45 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:08:56.524493', '2017-11-25 20:08:56.524493')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:08:56.524493', '2017-11-25 20:08:56.524493')[0m
  [1m[35m (56.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:08:56 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:08:56 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 17ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:15:51.805840', '2017-11-25 20:15:51.805840')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:15:51.805840', '2017-11-25 20:15:51.805840')[0m
  [1m[35m (54.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:15:52 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 33ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:15:52 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"card_nr"=>"1234567890112233", "print_name"=>"Oberdan Araujo", "billing_date"=>"07/07", "expire_date"=>"07/19", "cvv"=>"123", "limit"=>"2000,00"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:16:09.626915', '2017-11-25 20:16:09.626915')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:16:09.626915', '2017-11-25 20:16:09.626915')[0m
  [1m[35m (89.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:16:09 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 44ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:16:10 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"card_nr"=>"1234567890112233", "print_name"=>"Oberdan Araujo", "billing_date"=>"07/07", "expire_date"=>"07/19", "cvv"=>"123", "limit"=>"2000,00"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:26:03.290230', '2017-11-25 20:26:03.290230')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:26:03.290230', '2017-11-25 20:26:03.290230')[0m
  [1m[35m (64.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:26:03 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:26:03 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:26:39.510779', '2017-11-25 20:26:39.510779')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:26:39.510779', '2017-11-25 20:26:39.510779')[0m
  [1m[35m (69.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:26:39 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:26:39 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 17ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:27:12.812261', '2017-11-25 20:27:12.812261')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:27:12.812261', '2017-11-25 20:27:12.812261')[0m
  [1m[35m (93.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:27:13 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 33ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:27:13 -0200
Processing by CreditCardsController#add_card as HTML
No template found for CreditCardsController#add_card, rendering head :no_content
Completed 204 No Content in 19ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:27:33.770162', '2017-11-25 20:27:33.770162')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:27:33.770162', '2017-11-25 20:27:33.770162')[0m
  [1m[35m (69.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:27:34 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 33ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:27:34 -0200
Processing by CreditCardsController#add_card as HTML
No template found for CreditCardsController#add_card, rendering head :no_content
Completed 204 No Content in 18ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:27:42.495842', '2017-11-25 20:27:42.495842')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:27:42.495842', '2017-11-25 20:27:42.495842')[0m
  [1m[35m (99.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:27:42 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 33ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:27:42 -0200
Processing by CreditCardsController#add_card as HTML
No template found for CreditCardsController#add_card, rendering head :no_content
Completed 204 No Content in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:27:59.433708', '2017-11-25 20:27:59.433708')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:27:59.433708', '2017-11-25 20:27:59.433708')[0m
  [1m[35m (63.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:27:59 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:27:59 -0200
Processing by CreditCardsController#add_card as HTML
No template found for CreditCardsController#add_card, rendering head :no_content
Completed 204 No Content in 18ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:28:22.663391', '2017-11-25 20:28:22.663391')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:28:22.663391', '2017-11-25 20:28:22.663391')[0m
  [1m[35m (58.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:28:22 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:28:23 -0200
Processing by CreditCardsController#add_card as HTML
No template found for CreditCardsController#add_card, rendering head :no_content
Completed 204 No Content in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:28:43.002263', '2017-11-25 20:28:43.002263')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:28:43.002263', '2017-11-25 20:28:43.002263')[0m
  [1m[35m (53.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:28:43 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 39ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:28:43 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 18ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:28:57.051506', '2017-11-25 20:28:57.051506')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:28:57.051506', '2017-11-25 20:28:57.051506')[0m
  [1m[35m (61.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:28:57 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:28:57 -0200
Processing by CreditCardsController#add_card as HTML
Completed 201 Created in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:29:27.423101', '2017-11-25 20:29:27.423101')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:29:27.423101', '2017-11-25 20:29:27.423101')[0m
  [1m[35m (70.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:29:27 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:29:27 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 18ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:29:48.307122', '2017-11-25 20:29:48.307122')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:29:48.307122', '2017-11-25 20:29:48.307122')[0m
  [1m[35m (55.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:29:48 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 33ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:29:48 -0200
Processing by CreditCardsController#add_card as HTML
Completed 201 Created in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:30:19.515454', '2017-11-25 20:30:19.515454')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:30:19.515454', '2017-11-25 20:30:19.515454')[0m
  [1m[35m (59.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:30:19 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 39ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:30:27.651805', '2017-11-25 20:30:27.651805')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:30:27.651805', '2017-11-25 20:30:27.651805')[0m
  [1m[35m (58.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:30:27 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 54ms (Views: 0.3ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:30:28 -0200
Processing by CreditCardsController#add_card as HTML
Completed 201 Created in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:31:20.972271', '2017-11-25 20:31:20.972271')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:31:20.972271', '2017-11-25 20:31:20.972271')[0m
  [1m[35m (74.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:31:21 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:31:21 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"card_nr"=>"1234567890112233", "print_name"=>"Oberdan Araujo", "billing_date"=>"07/07", "expire_date"=>"07/19", "cvv"=>"123", "limit"=>"2000,00"}
Completed 201 Created in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:31:39.856678', '2017-11-25 20:31:39.856678')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:31:39.856678', '2017-11-25 20:31:39.856678')[0m
  [1m[35m (57.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:31:40 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 33ms (Views: 0.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:31:40 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"card_nr"=>"1234567890112233", "print_name"=>"Oberdan Araujo", "billing_date"=>"07/07", "expire_date"=>"07/19", "cvv"=>"123", "limit"=>"2000,00"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:32:34.152521', '2017-11-25 20:32:34.152521')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:32:34.152521', '2017-11-25 20:32:34.152521')[0m
  [1m[35m (67.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:32:34 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 34ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:32:34 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:40:56.530001', '2017-11-25 20:40:56.530001')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:40:56.530001', '2017-11-25 20:40:56.530001')[0m
  [1m[35m (118.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:40:56 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"card_nr"=>"1234567890112233", "print_name"=>"Oberdan Araujo"}
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:40:56 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 18ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:42:03.174685', '2017-11-25 20:42:03.174685')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:42:03.174685', '2017-11-25 20:42:03.174685')[0m
  [1m[35m (58.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:42:03 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 36ms (Views: 0.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:42:03 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:43:23.518407', '2017-11-25 20:43:23.518407')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:43:23.518407', '2017-11-25 20:43:23.518407')[0m
  [1m[35m (65.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:43:23 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 33ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:43:23 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:43:52.495060', '2017-11-25 20:43:52.495060')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:43:52.495060', '2017-11-25 20:43:52.495060')[0m
  [1m[35m (57.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:43:52 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:43:52 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 17ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:44:50.854612', '2017-11-25 20:44:50.854612')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:44:50.854612', '2017-11-25 20:44:50.854612')[0m
  [1m[35m (69.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:44:51 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 33ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:44:51 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:46:15.046803', '2017-11-25 20:46:15.046803')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:46:15.046803', '2017-11-25 20:46:15.046803')[0m
  [1m[35m (62.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:46:15 -0200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:46:15 -0200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:46:28.178290', '2017-11-25 20:46:28.178290')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:46:28.178290', '2017-11-25 20:46:28.178290')[0m
  [1m[35m (53.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:46:28 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 33ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:46:28 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
No template found for CreditCardsController#add_card, rendering head :no_content
Completed 204 No Content in 19ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:46:38.363185', '2017-11-25 20:46:38.363185')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:46:38.363185', '2017-11-25 20:46:38.363185')[0m
  [1m[35m (59.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:46:38 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 500 Internal Server Error in 38ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:46:38 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 16ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:46:54.225553', '2017-11-25 20:46:54.225553')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:46:54.225553', '2017-11-25 20:46:54.225553')[0m
  [1m[35m (108.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:46:54 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:46:54 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 23ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:48:26.575063', '2017-11-25 20:48:26.575063')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:48:26.575063', '2017-11-25 20:48:26.575063')[0m
  [1m[35m (66.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:48:26 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:48:26 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:48:46.681808', '2017-11-25 20:48:46.681808')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:48:46.681808', '2017-11-25 20:48:46.681808')[0m
  [1m[35m (62.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:48:46 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:48:47 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 16ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:49:03.406323', '2017-11-25 20:49:03.406323')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:49:03.406323', '2017-11-25 20:49:03.406323')[0m
  [1m[35m (59.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:49:03 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 201 Created in 220ms (Views: 2.0ms | ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:49:03 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:49:36.869635', '2017-11-25 20:49:36.869635')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:49:36.869635', '2017-11-25 20:49:36.869635')[0m
  [1m[35m (55.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:49:37 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:49:37 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:54:05.787823', '2017-11-25 20:54:05.787823')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 20:54:05.787823', '2017-11-25 20:54:05.787823')[0m
  [1m[35m (93.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 18:54:06 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":\"123\",\"limit\":\"2000,00\"}"=>nil}
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 18:54:06 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 18ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:05:54.005754', '2017-11-25 22:05:54.005754')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:05:54.005754', '2017-11-25 22:05:54.005754')[0m
  [1m[35m (64.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:05:54 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":\"123\",\"limit\":\"2000,00\"}"=>nil}
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:05:54 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 18ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:06:31.370449', '2017-11-25 22:06:31.370449')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:06:31.370449', '2017-11-25 22:06:31.370449')[0m
  [1m[35m (58.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:06:31 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":\"123\",\"limit\":\"2000,00\"}"=>nil}
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:06:31 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 17ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:07:03.272414', '2017-11-25 22:07:03.272414')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:07:03.272414', '2017-11-25 22:07:03.272414')[0m
  [1m[35m (70.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:07:03 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":\"123\",\"limit\":\"2000,00\"}"=>nil}
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:07:03 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 16ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:07:26.967246', '2017-11-25 22:07:26.967246')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:07:26.967246', '2017-11-25 22:07:26.967246')[0m
  [1m[35m (67.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:07:27 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 33ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:07:27 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":\"123\",\"limit\":\"2000,00\"}"=>nil}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:07:42.900835', '2017-11-25 22:07:42.900835')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:07:42.900835', '2017-11-25 22:07:42.900835')[0m
  [1m[35m (56.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:07:43 -0200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:07:43 -0200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:08:05.989507', '2017-11-25 22:08:05.989507')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:08:05.989507', '2017-11-25 22:08:05.989507')[0m
  [1m[35m (57.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:08:06 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":\"123\",\"limit\":\"2000,00\"}"=>nil}
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:08:06 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:09:04.994613', '2017-11-25 22:09:04.994613')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:09:04.994613', '2017-11-25 22:09:04.994613')[0m
  [1m[35m (124.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:09:05 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:09:05 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":\"123\",\"limit\":\"2000,00\"}"=>nil}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:09:18.879737', '2017-11-25 22:09:18.879737')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:09:18.879737', '2017-11-25 22:09:18.879737')[0m
  [1m[35m (107.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:09:19 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:09:19 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":\"123\",\"limit\":\"2000,00\"}"=>nil}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:09:47.090744', '2017-11-25 22:09:47.090744')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:09:47.090744', '2017-11-25 22:09:47.090744')[0m
  [1m[35m (74.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:09:47 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":\"123\",\"limit\":\"2000,00\"}"=>nil}
Completed 500 Internal Server Error in 29ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:09:47 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:10:00.944402', '2017-11-25 22:10:00.944402')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:10:00.944402', '2017-11-25 22:10:00.944402')[0m
  [1m[35m (46.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:10:01 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 34ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:10:01 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":\"123\",\"limit\":\"2000,00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123], ["LIMIT", 1]]
Completed 201 Created in 60ms (Views: 1.9ms | ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:10:12.507541', '2017-11-25 22:10:12.507541')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:10:12.507541', '2017-11-25 22:10:12.507541')[0m
  [1m[35m (60.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:10:12 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:10:12 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":\"123\",\"limit\":\"2000,00\"}"=>nil}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:10:21.502698', '2017-11-25 22:10:21.502698')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:10:21.502698', '2017-11-25 22:10:21.502698')[0m
  [1m[35m (111.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:10:21 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 34ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:10:21 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":\"123\",\"limit\":\"2000,00\"}"=>nil}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:11:49.814456', '2017-11-25 22:11:49.814456')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:11:49.814456', '2017-11-25 22:11:49.814456')[0m
  [1m[35m (50.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:11:50 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:11:50 -0200
Processing by CreditCardsController#add_card as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:12:16.701050', '2017-11-25 22:12:16.701050')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:12:16.701050', '2017-11-25 22:12:16.701050')[0m
  [1m[35m (100.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:12:17 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 40ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:12:17 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:12:30.258356', '2017-11-25 22:12:30.258356')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:12:30.258356', '2017-11-25 22:12:30.258356')[0m
  [1m[35m (55.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:12:30 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 39ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:12:30 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{}"=>nil}
Completed 201 Created in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:14:21.133249', '2017-11-25 22:14:21.133249')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:14:21.133249', '2017-11-25 22:14:21.133249')[0m
  [1m[35m (54.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:14:21 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 33ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:14:21 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":\"123\",\"limit\":\"2000,00\"}"=>nil}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:14:42.450908', '2017-11-25 22:14:42.450908')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:14:42.450908', '2017-11-25 22:14:42.450908')[0m
  [1m[35m (84.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:14:42 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 34ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:14:42 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233}"=>nil}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:26:17.913620', '2017-11-25 22:26:17.913620')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:26:17.913620', '2017-11-25 22:26:17.913620')[0m
  [1m[35m (55.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:26:18 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 33ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:26:18 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\"}"=>nil}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:26:28.435736', '2017-11-25 22:26:28.435736')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:26:28.435736', '2017-11-25 22:26:28.435736')[0m
  [1m[35m (67.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:26:28 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 33ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:26:28 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\"}"=>nil}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:26:42.964325', '2017-11-25 22:26:42.964325')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:26:42.964325', '2017-11-25 22:26:42.964325')[0m
  [1m[35m (116.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:26:43 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:26:43 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\"}"=>nil}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:27:31.600235', '2017-11-25 22:27:31.600235')[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:27:31.600235', '2017-11-25 22:27:31.600235')[0m
  [1m[35m (95.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:27:31 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 33ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:27:31 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\"}"=>nil}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:33:14.835317', '2017-11-25 22:33:14.835317')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:33:14.835317', '2017-11-25 22:33:14.835317')[0m
  [1m[35m (99.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:33:15 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\"}"=>nil}
Completed 201 Created in 18ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:33:15 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:35:01.579012', '2017-11-25 22:35:01.579012')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:35:01.579012', '2017-11-25 22:35:01.579012')[0m
  [1m[35m (109.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:35:01 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\"}"=>nil}
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:35:01 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 17ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:35:44.372566', '2017-11-25 22:35:44.372566')[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:35:44.372566', '2017-11-25 22:35:44.372566')[0m
  [1m[35m (62.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:35:44 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:35:44 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\"}"=>nil}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:35:57.984209', '2017-11-25 22:35:57.984209')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:35:57.984209', '2017-11-25 22:35:57.984209')[0m
  [1m[35m (108.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:35:58 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:35:58 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233}"=>nil}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:37:49.272432', '2017-11-25 22:37:49.272432')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:37:49.272432', '2017-11-25 22:37:49.272432')[0m
  [1m[35m (51.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:37:49 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233}"=>nil}
Completed 201 Created in 44ms (Views: 0.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:37:49 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:38:33.218581', '2017-11-25 22:38:33.218581')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:38:33.218581', '2017-11-25 22:38:33.218581')[0m
  [1m[35m (108.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:38:33 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":\"123\",\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 45ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:38:33 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 7ms (Views: 4.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:38:46.524359', '2017-11-25 22:38:46.524359')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:38:46.524359', '2017-11-25 22:38:46.524359')[0m
  [1m[35m (71.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:38:46 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 33ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:38:46 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":\"123\",\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 15ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:39:13.750748', '2017-11-25 22:39:13.750748')[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 22:39:13.750748', '2017-11-25 22:39:13.750748')[0m
  [1m[35m (57.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 20:39:14 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":\"123\",\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 46ms (Views: 0.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 20:39:14 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (113.6ms)[0m  [1m[35mCREATE TABLE "credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "card_nr" decimal, "print_name" varchar, "billing_date" varchar, "expire_date" varchar, "cvv" integer, "limit" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "current_balance" integer)[0m
  [1m[35m (98.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (74.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20171120232600)[0m
  [1m[35m (0.2ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (87.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20171117074905);

[0m
  [1m[35m (89.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2017-11-25 23:31:52.835250"], ["updated_at", "2017-11-25 23:31:52.835250"]]
  [1m[35m (68.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 23:32:40.856838', '2017-11-25 23:32:40.856838', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-25 23:32:40.856838', '2017-11-25 23:32:40.856838', 298486374)[0m
  [1m[35m (56.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 21:32:41 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
Completed 201 Created in 50ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 21:32:41 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (108.8ms)[0m  [1m[35mCREATE TABLE "credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "card_nr" decimal, "print_name" varchar, "billing_date" varchar, "expire_date" varchar, "cvv" integer, "limit" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "current_balance" integer)[0m
  [1m[35m (150.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (113.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20171120232600)[0m
  [1m[35m (0.3ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (76.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20171117074905);

[0m
  [1m[35m (153.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2017-11-26 01:03:21.268277"], ["updated_at", "2017-11-26 01:03:21.268277"]]
  [1m[35m (82.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 01:03:21.581115', '2017-11-26 01:03:21.581115', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 01:03:21.581115', '2017-11-26 01:03:21.581115', 298486374)[0m
  [1m[35m (75.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-25 23:03:22 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 58ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-25 23:03:22 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", 1.234567890112233e+15], ["print_name", "Oberdan Araujo"], ["billing_date", "07/07"], ["expire_date", "07/19"], ["cvv", 123], ["limit", 200000], ["created_at", "2017-11-26 01:03:22.305302"], ["updated_at", "2017-11-26 01:03:22.305302"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 64ms (Views: 0.3ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:26:17.227425', '2017-11-26 03:26:17.227425', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:26:17.227425', '2017-11-26 03:26:17.227425', 298486374)[0m
  [1m[35m (59.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 01:26:17 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CreditCardTest: test_should_have_card_print_name
------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 01:26:17 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:29:19.913298', '2017-11-26 03:29:19.913298', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:29:19.913298', '2017-11-26 03:29:19.913298', 298486374)[0m
  [1m[35m (78.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 01:29:20 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 01:29:20 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_should_have_card_billing_date
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CreditCardTest: test_should_have_card_cvv
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardTest: test_should_have_card_expire_date
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_card_limit
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CreditCardTest: test_should_have_card_print_name
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:31:14.257290', '2017-11-26 03:31:14.257290', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:31:14.257290', '2017-11-26 03:31:14.257290', 298486374)[0m
  [1m[35m (87.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardTest: test_should_have_card_expire_date
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_card_limit
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CreditCardTest: test_should_have_card_print_name
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CreditCardTest: test_should_have_card_cvv
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_should_have_card_billing_date
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 01:31:14 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 01:31:14 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:31:54.871833', '2017-11-26 03:31:54.871833', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:31:54.871833', '2017-11-26 03:31:54.871833', 298486374)[0m
  [1m[35m (66.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 01:31:55 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_card_limit
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CreditCardTest: test_should_have_card_cvv
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_should_have_card_billing_date
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardTest: test_should_have_card_expire_date
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CreditCardTest: test_should_have_card_print_name
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 01:31:55 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:32:47.040797', '2017-11-26 03:32:47.040797', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:32:47.040797', '2017-11-26 03:32:47.040797', 298486374)[0m
  [1m[35m (67.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 01:32:47 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CreditCardTest: test_should_have_card_cvv
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardTest: test_should_have_card_expire_date
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CreditCardTest: test_should_have_card_print_name
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_should_have_card_billing_date
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_card_limit
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 01:32:47 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:35:32.426433', '2017-11-26 03:35:32.426433', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:35:32.426433', '2017-11-26 03:35:32.426433', 298486374)[0m
  [1m[35m (106.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 01:35:32 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CreditCardTest: test_should_have_card_expire_date
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_card_limit
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_should_have_card_billing_date
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CreditCardTest: test_should_have_card_cvv
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CreditCardTest: test_should_have_card_print_name
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 01:35:32 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:37:32.773136', '2017-11-26 03:37:32.773136', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:37:32.773136', '2017-11-26 03:37:32.773136', 298486374)[0m
  [1m[35m (113.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 01:37:33 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 01:37:33 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:39:53.623215', '2017-11-26 03:39:53.623215', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:39:53.623215', '2017-11-26 03:39:53.623215', 298486374)[0m
  [1m[35m (75.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_should_card_nr_should_be_unique
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["card_nr", 123.0], ["created_at", "2017-11-26 03:39:53.723231"], ["updated_at", "2017-11-26 03:39:53.723231"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 01:39:53 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 19ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 01:39:54 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:41:53.704558', '2017-11-26 03:41:53.704558', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:41:53.704558', '2017-11-26 03:41:53.704558', 298486374)[0m
  [1m[35m (70.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 01:41:54 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_should_card_nr_should_be_unique
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["card_nr", 123.0], ["created_at", "2017-11-26 03:41:54.092503"], ["updated_at", "2017-11-26 03:41:54.092503"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 01:41:54 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:48:22.255458', '2017-11-26 03:48:22.255458', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:48:22.255458', '2017-11-26 03:48:22.255458', 298486374)[0m
  [1m[35m (107.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 01:48:22 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 01:48:22 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["card_nr", 123.0], ["created_at", "2017-11-26 03:48:22.654375"], ["updated_at", "2017-11-26 03:48:22.654375"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:49:05.252351', '2017-11-26 03:49:05.252351', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:49:05.252351', '2017-11-26 03:49:05.252351', 298486374)[0m
  [1m[35m (69.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 01:49:05 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 01:49:05 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:50:22.211084', '2017-11-26 03:50:22.211084', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:50:22.211084', '2017-11-26 03:50:22.211084', 298486374)[0m
  [1m[35m (64.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 01:50:22 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 34ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 01:50:22 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:56:53.205448', '2017-11-26 03:56:53.205448', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:56:53.205448', '2017-11-26 03:56:53.205448', 298486374)[0m
  [1m[35m (124.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 01:56:53 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 01:56:53 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_must_have_minimum_5_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.2ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:57:11.927751', '2017-11-26 03:57:11.927751', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 03:57:11.927751', '2017-11-26 03:57:11.927751', 298486374)[0m
  [1m[35m (112.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 01:57:12 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_must_have_minimum_5_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 01:57:12 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:00:02.592061', '2017-11-26 04:00:02.592061', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:00:02.592061', '2017-11-26 04:00:02.592061', 298486374)[0m
  [1m[35m (97.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:00:02 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:00:02 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_must_have_minimum_5_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:01:44.796287', '2017-11-26 04:01:44.796287', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:01:44.796287', '2017-11-26 04:01:44.796287', 298486374)[0m
  [1m[35m (58.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:01:45 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_must_have_minimum_5_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:01:45 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:03:00.717232', '2017-11-26 04:03:00.717232', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:03:00.717232', '2017-11-26 04:03:00.717232', 298486374)[0m
  [1m[35m (64.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:03:00 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:03:01 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_must_have_minimum_5_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:03:22.474061', '2017-11-26 04:03:22.474061', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:03:22.474061', '2017-11-26 04:03:22.474061', 298486374)[0m
  [1m[35m (64.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:03:22 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_must_have_minimum_5_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:03:22 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:04:06.942617', '2017-11-26 04:04:06.942617', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:04:06.942617', '2017-11-26 04:04:06.942617', 298486374)[0m
  [1m[35m (68.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_must_have_minimum_5_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:04:07 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 19ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:04:07 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:04:44.210147', '2017-11-26 04:04:44.210147', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:04:44.210147', '2017-11-26 04:04:44.210147', 298486374)[0m
  [1m[35m (58.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_must_have_minimum_5_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:04:44 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:04:44 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:05:09.039522', '2017-11-26 04:05:09.039522', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:05:09.039522', '2017-11-26 04:05:09.039522', 298486374)[0m
  [1m[35m (86.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:05:09 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
CreditCardTest: test_print_name_must_have_minimum_5_to_30_chars
---------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:05:09 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:05:36.666202', '2017-11-26 04:05:36.666202', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:05:36.666202', '2017-11-26 04:05:36.666202', 298486374)[0m
  [1m[35m (83.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:05:36 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
CreditCardTest: test_print_name_must_have_minimum_5_to_30_chars
---------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:05:37 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:05:54.431562', '2017-11-26 04:05:54.431562', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:05:54.431562', '2017-11-26 04:05:54.431562', 298486374)[0m
  [1m[35m (88.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:05:54 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
CreditCardTest: test_print_name_must_have_minimum_5_to_30_chars
---------------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:05:54 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:06:31.820479', '2017-11-26 04:06:31.820479', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:06:31.820479', '2017-11-26 04:06:31.820479', 298486374)[0m
  [1m[35m (67.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:06:32 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:06:32 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
CreditCardTest: test_print_name_must_have_minimum_5_to_30_chars
---------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:07:22.790233', '2017-11-26 04:07:22.790233', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:07:22.790233', '2017-11-26 04:07:22.790233', 298486374)[0m
  [1m[35m (57.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:07:23 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:07:23 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
CreditCardTest: test_print_name_must_have_minimum_5_to_30_chars
---------------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:07:40.844268', '2017-11-26 04:07:40.844268', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:07:40.844268', '2017-11-26 04:07:40.844268', 298486374)[0m
  [1m[35m (71.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:07:41 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:07:41 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:07:59.516566', '2017-11-26 04:07:59.516566', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:07:59.516566', '2017-11-26 04:07:59.516566', 298486374)[0m
  [1m[35m (112.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:07:59 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 38ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:07:59 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:08:16.389972', '2017-11-26 04:08:16.389972', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:08:16.389972', '2017-11-26 04:08:16.389972', 298486374)[0m
  [1m[35m (96.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:08:16 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 18ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
CreditCardTest: test_print_name_must_have_minimum_5_to_30_chars
---------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:08:16 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:08:53.493092', '2017-11-26 04:08:53.493092', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:08:53.493092', '2017-11-26 04:08:53.493092', 298486374)[0m
  [1m[35m (62.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:08:53 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 35ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:08:53 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
CreditCardTest: test_print_name_must_have_minimum_5_to_30_chars
---------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:09:30.735804', '2017-11-26 04:09:30.735804', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:09:30.735804', '2017-11-26 04:09:30.735804', 298486374)[0m
  [1m[35m (89.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
CreditCardTest: test_print_name_must_have_minimum_5_to_30_chars
---------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:09:31 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 19ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:09:31 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:09:47.819844', '2017-11-26 04:09:47.819844', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:09:47.819844', '2017-11-26 04:09:47.819844', 298486374)[0m
  [1m[35m (84.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:09:48 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 42ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:09:48 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
CreditCardTest: test_print_name_must_have_minimum_5_to_30_chars
---------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:13:35.203565', '2017-11-26 04:13:35.203565', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:13:35.203565', '2017-11-26 04:13:35.203565', 298486374)[0m
  [1m[35m (63.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
CreditCardTest: test_print_name_must_have_minimum_5_to_30_chars
---------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:13:35 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 21ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:13:35 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 12ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:14:03.153577', '2017-11-26 04:14:03.153577', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:14:03.153577', '2017-11-26 04:14:03.153577', 298486374)[0m
  [1m[35m (61.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
CreditCardTest: test_print_name_must_have_minimum_5_to_30_chars
---------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:14:03 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:14:03 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:14:22.446201', '2017-11-26 04:14:22.446201', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:14:22.446201', '2017-11-26 04:14:22.446201', 298486374)[0m
  [1m[35m (58.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:14:22 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:14:22 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
CreditCardTest: test_print_name_must_have_minimum_5_to_30_chars
---------------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:14:48.710604', '2017-11-26 04:14:48.710604', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:14:48.710604', '2017-11-26 04:14:48.710604', 298486374)[0m
  [1m[35m (83.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:14:49 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.7ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 45ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:14:49 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
CreditCardTest: test_print_name_must_have_minimum_5_to_30_chars
---------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:17:56.500502', '2017-11-26 04:17:56.500502', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:17:56.500502', '2017-11-26 04:17:56.500502', 298486374)[0m
  [1m[35m (66.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:17:56 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 31ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:17:56 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
CreditCardTest: test_print_name_must_have_minimum_5_to_30_chars
---------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:18:43.920081', '2017-11-26 04:18:43.920081', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:18:43.920081', '2017-11-26 04:18:43.920081', 298486374)[0m
  [1m[35m (73.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:18:44 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 19ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:18:44 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:19:00.488366', '2017-11-26 04:19:00.488366', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:19:00.488366', '2017-11-26 04:19:00.488366', 298486374)[0m
  [1m[35m (72.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:19:00 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 19ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:19:00 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:19:43.790229', '2017-11-26 04:19:43.790229', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:19:43.790229', '2017-11-26 04:19:43.790229', 298486374)[0m
  [1m[35m (85.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:19:44 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 19ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
CreditCardTest: test_print_name_must_have_minimum_5_to_30_chars
---------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:19:44 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:20:16.786020', '2017-11-26 04:20:16.786020', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:20:16.786020', '2017-11-26 04:20:16.786020', 298486374)[0m
  [1m[35m (103.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
CreditCardTest: test_print_name_must_have_minimum_5_to_30_chars
---------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:20:17 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 18ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:20:17 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:22:00.811184', '2017-11-26 04:22:00.811184', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:22:00.811184', '2017-11-26 04:22:00.811184', 298486374)[0m
  [1m[35m (86.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:22:01 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 19ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:22:01 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:23:00.452891', '2017-11-26 04:23:00.452891', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:23:00.452891', '2017-11-26 04:23:00.452891', 298486374)[0m
  [1m[35m (115.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:23:00 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:23:00 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:24:44.603639', '2017-11-26 04:24:44.603639', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:24:44.603639', '2017-11-26 04:24:44.603639', 298486374)[0m
  [1m[35m (74.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:24:44 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:24:44 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:25:15.997399', '2017-11-26 04:25:15.997399', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:25:15.997399', '2017-11-26 04:25:15.997399', 298486374)[0m
  [1m[35m (70.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:25:16 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 19ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:25:16 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:26:05.529453', '2017-11-26 04:26:05.529453', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:26:05.529453', '2017-11-26 04:26:05.529453', 298486374)[0m
  [1m[35m (64.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:26:05 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (1.1ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:26:05 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:26:23.807797', '2017-11-26 04:26:23.807797', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:26:23.807797', '2017-11-26 04:26:23.807797', 298486374)[0m
  [1m[35m (77.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:26:24 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:26:24 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:27:27.564273', '2017-11-26 04:27:27.564273', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:27:27.564273', '2017-11-26 04:27:27.564273', 298486374)[0m
  [1m[35m (70.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:27:27 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:27:27 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:27:43.593535', '2017-11-26 04:27:43.593535', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:27:43.593535', '2017-11-26 04:27:43.593535', 298486374)[0m
  [1m[35m (97.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:27:43 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:27:44 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:35:19.466250', '2017-11-26 04:35:19.466250', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:35:19.466250', '2017-11-26 04:35:19.466250', 298486374)[0m
  [1m[35m (61.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:35:19 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:35:19 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:36:25.293587', '2017-11-26 04:36:25.293587', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:36:25.293587', '2017-11-26 04:36:25.293587', 298486374)[0m
  [1m[35m (61.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:36:25 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 21ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:36:25 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:40:18.145365', '2017-11-26 04:40:18.145365', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:40:18.145365', '2017-11-26 04:40:18.145365', 298486374)[0m
  [1m[35m (93.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:40:18 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:40:18 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 17ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:40:44.187019', '2017-11-26 04:40:44.187019', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:40:44.187019', '2017-11-26 04:40:44.187019', 298486374)[0m
  [1m[35m (98.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:40:44 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:40:44 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:41:17.894897', '2017-11-26 04:41:17.894897', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:41:17.894897', '2017-11-26 04:41:17.894897', 298486374)[0m
  [1m[35m (71.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:41:18 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:41:18 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:42:35.616832', '2017-11-26 04:42:35.616832', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:42:35.616832', '2017-11-26 04:42:35.616832', 298486374)[0m
  [1m[35m (66.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:42:35 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:42:35 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:54:36.836828', '2017-11-26 04:54:36.836828', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:54:36.836828', '2017-11-26 04:54:36.836828', 298486374)[0m
  [1m[35m (114.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:54:37 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 33ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:54:37 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:55:07.923830', '2017-11-26 04:55:07.923830', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:55:07.923830', '2017-11-26 04:55:07.923830', 298486374)[0m
  [1m[35m (132.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:55:08 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 33ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:55:08 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:56:13.476519', '2017-11-26 04:56:13.476519', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:56:13.476519', '2017-11-26 04:56:13.476519', 298486374)[0m
  [1m[35m (106.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:56:13 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:56:13 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:56:46.484214', '2017-11-26 04:56:46.484214', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:56:46.484214', '2017-11-26 04:56:46.484214', 298486374)[0m
  [1m[35m (121.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:56:46 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 43ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:56:46 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:57:00.660200', '2017-11-26 04:57:00.660200', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:57:00.660200', '2017-11-26 04:57:00.660200', 298486374)[0m
  [1m[35m (268.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:57:01 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 19ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.9ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:57:01 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:59:06.719618', '2017-11-26 04:59:06.719618', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 04:59:06.719618', '2017-11-26 04:59:06.719618', 298486374)[0m
  [1m[35m (150.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 02:59:07 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 45ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 02:59:07 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:06:07.729706', '2017-11-26 05:06:07.729706', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:06:07.729706', '2017-11-26 05:06:07.729706', 298486374)[0m
  [1m[35m (96.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:06:08 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:06:08 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:06:25.826675', '2017-11-26 05:06:25.826675', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:06:25.826675', '2017-11-26 05:06:25.826675', 298486374)[0m
  [1m[35m (68.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:06:26 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 19ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:06:26 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:07:37.834940', '2017-11-26 05:07:37.834940', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:07:37.834940', '2017-11-26 05:07:37.834940', 298486374)[0m
  [1m[35m (77.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:07:38 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 24ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:07:38 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:08:18.478059', '2017-11-26 05:08:18.478059', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:08:18.478059', '2017-11-26 05:08:18.478059', 298486374)[0m
  [1m[35m (69.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:08:18 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:08:18 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:08:36.700732', '2017-11-26 05:08:36.700732', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:08:36.700732', '2017-11-26 05:08:36.700732', 298486374)[0m
  [1m[35m (93.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:08:37 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:08:37 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:09:04.131601', '2017-11-26 05:09:04.131601', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:09:04.131601', '2017-11-26 05:09:04.131601', 298486374)[0m
  [1m[35m (97.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:09:04 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 19ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:09:04 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:12:10.968840', '2017-11-26 05:12:10.968840', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:12:10.968840', '2017-11-26 05:12:10.968840', 298486374)[0m
  [1m[35m (75.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:12:11 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 19ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:12:11 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:12:30.036744', '2017-11-26 05:12:30.036744', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:12:30.036744', '2017-11-26 05:12:30.036744', 298486374)[0m
  [1m[35m (97.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:12:30 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:12:30 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:13:06.588721', '2017-11-26 05:13:06.588721', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:13:06.588721', '2017-11-26 05:13:06.588721', 298486374)[0m
  [1m[35m (91.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:13:06 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 45ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:13:06 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CreditCardTest: test_print_name_must_exist_and_have_5_to_30_chars
-----------------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:18:06.894172', '2017-11-26 05:18:06.894172', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:18:06.894172', '2017-11-26 05:18:06.894172', 298486374)[0m
  [1m[35m (156.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:18:07 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:18:07 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:18:22.036845', '2017-11-26 05:18:22.036845', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:18:22.036845', '2017-11-26 05:18:22.036845', 298486374)[0m
  [1m[35m (103.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:18:22 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:18:22 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:21:41.326020', '2017-11-26 05:21:41.326020', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:21:41.326020', '2017-11-26 05:21:41.326020', 298486374)[0m
  [1m[35m (96.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:21:41 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:21:41 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:22:53.482922', '2017-11-26 05:22:53.482922', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES (1, 'MyString', '2017-11-17', '2017-11-17', 1, 1, '2017-11-26 05:22:53.482922', '2017-11-26 05:22:53.482922', 298486374)[0m
  [1m[35m (77.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 123.0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", 1.234567890112233e+15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:22:53 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:22:53 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (97.1ms)[0m  [1m[35mCREATE TABLE "credit_cards" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "card_nr" varchar, "print_name" varchar, "billing_date" varchar, "expire_date" varchar, "cvv" varchar, "limit" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "current_balance" integer)[0m
  [1m[35m (98.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (117.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20171120232600)[0m
  [1m[35m (0.2ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (76.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20171117074905);

[0m
  [1m[35m (101.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2017-11-26 05:30:56.825404"], ["updated_at", "2017-11-26 05:30:56.825404"]]
  [1m[35m (83.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:31:46.420386', '2017-11-26 05:31:46.420386', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:31:46.420386', '2017-11-26 05:31:46.420386', 298486374)[0m
  [1m[35m (77.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:31:46 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_dates_should_not_be_in_the_past
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (4.5ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_month_should_not_be_less_than_01
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:31:46 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:40:46.959378', '2017-11-26 05:40:46.959378', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:40:46.959378', '2017-11-26 05:40:46.959378', 298486374)[0m
  [1m[35m (99.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:40:47 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 31ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_month_should_not_be_less_than_01
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_dates_should_not_be_in_the_past
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:40:47 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:41:25.447869', '2017-11-26 05:41:25.447869', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:41:25.447869', '2017-11-26 05:41:25.447869', 298486374)[0m
  [1m[35m (58.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_month_should_not_be_less_than_01
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_dates_should_not_be_in_the_past
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:41:25 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:41:25 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:43:35.544366', '2017-11-26 05:43:35.544366', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:43:35.544366', '2017-11-26 05:43:35.544366', 298486374)[0m
  [1m[35m (74.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_month_should_not_be_less_than_01
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_dates_should_not_be_in_the_past
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:43:35 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 19ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:43:36 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:46:08.838178', '2017-11-26 05:46:08.838178', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:46:08.838178', '2017-11-26 05:46:08.838178', 298486374)[0m
  [1m[35m (59.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:46:09 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_month_should_not_be_less_than_01
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_dates_should_not_be_in_the_past
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:46:09 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:47:28.419510', '2017-11-26 05:47:28.419510', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:47:28.419510', '2017-11-26 05:47:28.419510', 298486374)[0m
  [1m[35m (63.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_dates_should_not_be_in_the_past
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_month_should_not_be_less_than_01
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:47:28 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:47:28 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:47:47.338015', '2017-11-26 05:47:47.338015', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:47:47.338015', '2017-11-26 05:47:47.338015', 298486374)[0m
  [1m[35m (57.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:47:47 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_dates_should_not_be_in_the_past
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_month_should_not_be_less_than_01
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:47:47 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:47:58.984204', '2017-11-26 05:47:58.984204', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:47:58.984204', '2017-11-26 05:47:58.984204', 298486374)[0m
  [1m[35m (65.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_dates_should_not_be_in_the_past
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_month_should_not_be_less_than_01
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:47:59 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:47:59 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:49:27.544382', '2017-11-26 05:49:27.544382', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:49:27.544382', '2017-11-26 05:49:27.544382', 298486374)[0m
  [1m[35m (80.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:49:27 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_dates_should_not_be_in_the_past
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_month_should_not_be_less_than_01
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:49:28 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:49:37.788307', '2017-11-26 05:49:37.788307', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:49:37.788307', '2017-11-26 05:49:37.788307', 298486374)[0m
  [1m[35m (71.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:49:38 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_dates_should_not_be_in_the_past
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_month_should_not_be_less_than_01
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:49:38 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:50:08.569851', '2017-11-26 05:50:08.569851', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:50:08.569851', '2017-11-26 05:50:08.569851', 298486374)[0m
  [1m[35m (91.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_month_should_not_be_less_than_01
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_dates_should_not_be_in_the_past
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:50:08 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:50:09 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:51:37.425141', '2017-11-26 05:51:37.425141', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:51:37.425141', '2017-11-26 05:51:37.425141', 298486374)[0m
  [1m[35m (66.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_dates_should_not_be_in_the_past
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_month_should_not_be_less_than_01
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:51:37 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:51:37 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:54:10.895458', '2017-11-26 05:54:10.895458', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:54:10.895458', '2017-11-26 05:54:10.895458', 298486374)[0m
  [1m[35m (65.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:54:11 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:54:11 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_dates_should_not_be_in_the_past
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_month_should_not_be_less_than_01
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:54:46.142244', '2017-11-26 05:54:46.142244', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:54:46.142244', '2017-11-26 05:54:46.142244', 298486374)[0m
  [1m[35m (54.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:54:46 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_month_should_not_be_less_than_01
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_dates_should_not_be_in_the_past
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:54:46 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:55:32.212727', '2017-11-26 05:55:32.212727', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 05:55:32.212727', '2017-11-26 05:55:32.212727', 298486374)[0m
  [1m[35m (99.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 03:55:32 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_month_should_not_be_less_than_01
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_dates_should_not_be_in_the_past
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 03:55:32 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:22:53.632731', '2017-11-26 20:22:53.632731', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:22:53.632731', '2017-11-26 20:22:53.632731', 298486374)[0m
  [1m[35m (107.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 18:22:53 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CreditCardTest: test_date_should_be_valid
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 18:22:54 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:23:30.723759', '2017-11-26 20:23:30.723759', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:23:30.723759', '2017-11-26 20:23:30.723759', 298486374)[0m
  [1m[35m (108.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 18:23:31 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 31ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CreditCardTest: test_date_should_be_valid
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 18:23:31 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:45:38.879856', '2017-11-26 20:45:38.879856', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:45:38.879856', '2017-11-26 20:45:38.879856', 298486374)[0m
  [1m[35m (83.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 18:45:39 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CreditCardTest: test_date_should_be_valid
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 18:45:39 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:46:09.003953', '2017-11-26 20:46:09.003953', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:46:09.003953', '2017-11-26 20:46:09.003953', 298486374)[0m
  [1m[35m (151.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 18:46:09 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 18:46:09 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CreditCardTest: test_date_should_be_valid
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:46:39.283489', '2017-11-26 20:46:39.283489', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:46:39.283489', '2017-11-26 20:46:39.283489', 298486374)[0m
  [1m[35m (96.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 18:46:39 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 20ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CreditCardTest: test_date_should_be_valid
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 18:46:39 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:47:17.592694', '2017-11-26 20:47:17.592694', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:47:17.592694', '2017-11-26 20:47:17.592694', 298486374)[0m
  [1m[35m (56.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 18:47:17 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CreditCardTest: test_date_should_be_valid
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 18:47:18 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:47:24.473653', '2017-11-26 20:47:24.473653', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:47:24.473653', '2017-11-26 20:47:24.473653', 298486374)[0m
  [1m[35m (66.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 18:47:24 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 18ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 18:47:24 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CreditCardTest: test_date_should_be_valid
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:47:35.315535', '2017-11-26 20:47:35.315535', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:47:35.315535', '2017-11-26 20:47:35.315535', 298486374)[0m
  [1m[35m (102.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 18:47:35 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 18:47:35 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:47:58.725879', '2017-11-26 20:47:58.725879', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:47:58.725879', '2017-11-26 20:47:58.725879', 298486374)[0m
  [1m[35m (71.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 18:47:59 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 18:47:59 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:48:24.218607', '2017-11-26 20:48:24.218607', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:48:24.218607', '2017-11-26 20:48:24.218607', 298486374)[0m
  [1m[35m (69.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 18:48:24 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 31ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 18:48:24 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:48:56.426677', '2017-11-26 20:48:56.426677', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:48:56.426677', '2017-11-26 20:48:56.426677', 298486374)[0m
  [1m[35m (64.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 18:48:56 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 18:48:56 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:49:07.280693', '2017-11-26 20:49:07.280693', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:49:07.280693', '2017-11-26 20:49:07.280693', 298486374)[0m
  [1m[35m (133.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 18:49:07 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 18:49:07 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:51:02.519808', '2017-11-26 20:51:02.519808', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:51:02.519808', '2017-11-26 20:51:02.519808', 298486374)[0m
  [1m[35m (103.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 18:51:02 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 18:51:03 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:51:26.210635', '2017-11-26 20:51:26.210635', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:51:26.210635', '2017-11-26 20:51:26.210635', 298486374)[0m
  [1m[35m (58.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 18:51:26 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 18:51:26 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:53:11.306502', '2017-11-26 20:53:11.306502', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:53:11.306502', '2017-11-26 20:53:11.306502', 298486374)[0m
  [1m[35m (104.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 18:53:11 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 18:53:11 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:53:27.199113', '2017-11-26 20:53:27.199113', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:53:27.199113', '2017-11-26 20:53:27.199113', 298486374)[0m
  [1m[35m (58.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 18:53:27 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 18:53:27 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:53:53.399132', '2017-11-26 20:53:53.399132', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:53:53.399132', '2017-11-26 20:53:53.399132', 298486374)[0m
  [1m[35m (59.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 18:53:53 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 18:53:53 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_should_match_dd/mm
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:54:50.067963', '2017-11-26 20:54:50.067963', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:54:50.067963', '2017-11-26 20:54:50.067963', 298486374)[0m
  [1m[35m (62.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 18:54:50 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 18:54:50 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:55:51.699476', '2017-11-26 20:55:51.699476', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:55:51.699476', '2017-11-26 20:55:51.699476', 298486374)[0m
  [1m[35m (102.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 18:55:52 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 18:55:52 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:57:34.112091', '2017-11-26 20:57:34.112091', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:57:34.112091', '2017-11-26 20:57:34.112091', 298486374)[0m
  [1m[35m (76.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 18:57:34 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 18:57:34 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:58:34.033719', '2017-11-26 20:58:34.033719', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:58:34.033719', '2017-11-26 20:58:34.033719', 298486374)[0m
  [1m[35m (92.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 18:58:34 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 22ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 18:58:34 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:58:54.826753', '2017-11-26 20:58:54.826753', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:58:54.826753', '2017-11-26 20:58:54.826753', 298486374)[0m
  [1m[35m (67.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 18:58:55 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 34ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 18:58:55 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:59:17.486452', '2017-11-26 20:59:17.486452', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:59:17.486452', '2017-11-26 20:59:17.486452', 298486374)[0m
  [1m[35m (55.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 18:59:17 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 18:59:17 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:59:29.747940', '2017-11-26 20:59:29.747940', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:59:29.747940', '2017-11-26 20:59:29.747940', 298486374)[0m
  [1m[35m (49.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 18:59:30 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 18:59:30 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:59:38.875868', '2017-11-26 20:59:38.875868', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 20:59:38.875868', '2017-11-26 20:59:38.875868', 298486374)[0m
  [1m[35m (90.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 18:59:39 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 18:59:39 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (2.0ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (1.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:00:36.497398', '2017-11-26 21:00:36.497398', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:00:36.497398', '2017-11-26 21:00:36.497398', 298486374)[0m
  [1m[35m (81.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:00:36 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 19ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:01:10.514736', '2017-11-26 21:01:10.514736', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:01:10.514736', '2017-11-26 21:01:10.514736', 298486374)[0m
  [1m[35m (58.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:01:10 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 45ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:01:10 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:01:25.970882', '2017-11-26 21:01:25.970882', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:01:25.970882', '2017-11-26 21:01:25.970882', 298486374)[0m
  [1m[35m (47.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:01:26 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 19ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:01:26 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:01:53.152404', '2017-11-26 21:01:53.152404', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:01:53.152404', '2017-11-26 21:01:53.152404', 298486374)[0m
  [1m[35m (101.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:01:53 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:01:53 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:11:43.501072', '2017-11-26 21:11:43.501072', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:11:43.501072', '2017-11-26 21:11:43.501072', 298486374)[0m
  [1m[35m (47.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:11:43 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:11:43 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.2ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:12:05.971366', '2017-11-26 21:12:05.971366', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:12:05.971366', '2017-11-26 21:12:05.971366', 298486374)[0m
  [1m[35m (90.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:12:06 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 18ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:12:06 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 17ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:12:11.524378', '2017-11-26 21:12:11.524378', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:12:11.524378', '2017-11-26 21:12:11.524378', 298486374)[0m
  [1m[35m (83.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:12:11 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:12:12 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:12:46.715388', '2017-11-26 21:12:46.715388', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:12:46.715388', '2017-11-26 21:12:46.715388', 298486374)[0m
  [1m[35m (71.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:12:46 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:12:47 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:13:17.069384', '2017-11-26 21:13:17.069384', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:13:17.069384', '2017-11-26 21:13:17.069384', 298486374)[0m
  [1m[35m (121.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:13:17 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 31ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:13:17 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:13:38.150492', '2017-11-26 21:13:38.150492', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:13:38.150492', '2017-11-26 21:13:38.150492', 298486374)[0m
  [1m[35m (64.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:13:38 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:13:38 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:13:54.300815', '2017-11-26 21:13:54.300815', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:13:54.300815', '2017-11-26 21:13:54.300815', 298486374)[0m
  [1m[35m (59.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:13:54 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:13:54 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:15:41.338789', '2017-11-26 21:15:41.338789', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:15:41.338789', '2017-11-26 21:15:41.338789', 298486374)[0m
  [1m[35m (97.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:15:41 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 53ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:15:41 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:17:57.904638', '2017-11-26 21:17:57.904638', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:17:57.904638', '2017-11-26 21:17:57.904638', 298486374)[0m
  [1m[35m (75.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:17:58 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:17:58 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:18:15.968416', '2017-11-26 21:18:15.968416', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:18:15.968416', '2017-11-26 21:18:15.968416', 298486374)[0m
  [1m[35m (91.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:18:16 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:18:16 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:18:55.263967', '2017-11-26 21:18:55.263967', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:18:55.263967', '2017-11-26 21:18:55.263967', 298486374)[0m
  [1m[35m (53.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:18:55 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:18:55 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:19:04.217763', '2017-11-26 21:19:04.217763', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:19:04.217763', '2017-11-26 21:19:04.217763', 298486374)[0m
  [1m[35m (133.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:19:04 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:19:04 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:19:51.704103', '2017-11-26 21:19:51.704103', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:19:51.704103', '2017-11-26 21:19:51.704103', 298486374)[0m
  [1m[35m (72.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:19:51 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:19:52 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:20:17.999969', '2017-11-26 21:20:17.999969', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:20:17.999969', '2017-11-26 21:20:17.999969', 298486374)[0m
  [1m[35m (100.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:20:18 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 19ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:20:18 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:21:53.117207', '2017-11-26 21:21:53.117207', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:21:53.117207', '2017-11-26 21:21:53.117207', 298486374)[0m
  [1m[35m (89.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:21:53 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:21:53 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:23:43.541173', '2017-11-26 21:23:43.541173', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:23:43.541173', '2017-11-26 21:23:43.541173', 298486374)[0m
  [1m[35m (62.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:23:43 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 18ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:23:43 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:26:16.868257', '2017-11-26 21:26:16.868257', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:26:16.868257', '2017-11-26 21:26:16.868257', 298486374)[0m
  [1m[35m (57.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:26:17 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 43ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:28:55.318512', '2017-11-26 21:28:55.318512', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:28:55.318512', '2017-11-26 21:28:55.318512', 298486374)[0m
  [1m[35m (61.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (12.5ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:28:55 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:29:09.269853', '2017-11-26 21:29:09.269853', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:29:09.269853', '2017-11-26 21:29:09.269853', 298486374)[0m
  [1m[35m (77.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:29:09 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:30:58.579829', '2017-11-26 21:30:58.579829', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:30:58.579829', '2017-11-26 21:30:58.579829', 298486374)[0m
  [1m[35m (86.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:30:58 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:31:40.399622', '2017-11-26 21:31:40.399622', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:31:40.399622', '2017-11-26 21:31:40.399622', 298486374)[0m
  [1m[35m (96.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:31:40 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:31:59.675722', '2017-11-26 21:31:59.675722', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:31:59.675722', '2017-11-26 21:31:59.675722', 298486374)[0m
  [1m[35m (62.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:31:59 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 33ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:32:06.178963', '2017-11-26 21:32:06.178963', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:32:06.178963', '2017-11-26 21:32:06.178963', 298486374)[0m
  [1m[35m (62.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:32:06 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:32:16.888056', '2017-11-26 21:32:16.888056', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:32:16.888056', '2017-11-26 21:32:16.888056', 298486374)[0m
  [1m[35m (87.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:32:17 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:32:43.284957', '2017-11-26 21:32:43.284957', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:32:43.284957', '2017-11-26 21:32:43.284957', 298486374)[0m
  [1m[35m (112.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:32:43 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:32:43 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:32:53.403988', '2017-11-26 21:32:53.403988', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:32:53.403988', '2017-11-26 21:32:53.403988', 298486374)[0m
  [1m[35m (62.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:32:53 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:32:53 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (2.1ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:42:17.708278', '2017-11-26 21:42:17.708278', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:42:17.708278', '2017-11-26 21:42:17.708278', 298486374)[0m
  [1m[35m (104.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:42:18 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 19ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:42:18 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 17ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:43:14.499113', '2017-11-26 21:43:14.499113', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:43:14.499113', '2017-11-26 21:43:14.499113', 298486374)[0m
  [1m[35m (80.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:43:14 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 36ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:43:15 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:46:43.032407', '2017-11-26 21:46:43.032407', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:46:43.032407', '2017-11-26 21:46:43.032407', 298486374)[0m
  [1m[35m (99.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:46:43 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:46:43 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:47:03.572899', '2017-11-26 21:47:03.572899', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:47:03.572899', '2017-11-26 21:47:03.572899', 298486374)[0m
  [1m[35m (73.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:47:03 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:47:04 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:51:18.171032', '2017-11-26 21:51:18.171032', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:51:18.171032', '2017-11-26 21:51:18.171032', 298486374)[0m
  [1m[35m (96.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:51:18 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:51:18 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:51:53.085949', '2017-11-26 21:51:53.085949', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:51:53.085949', '2017-11-26 21:51:53.085949', 298486374)[0m
  [1m[35m (81.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:51:53 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:51:53 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (1.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:52:33.188862', '2017-11-26 21:52:33.188862', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:52:33.188862', '2017-11-26 21:52:33.188862', 298486374)[0m
  [1m[35m (50.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["card_nr", "123"], ["created_at", "2017-11-26 21:52:33.283601"], ["updated_at", "2017-11-26 21:52:33.283601"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:52:33 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:58:38.640084', '2017-11-26 21:58:38.640084', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:58:38.640084', '2017-11-26 21:58:38.640084', 298486374)[0m
  [1m[35m (88.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["card_nr", "123"], ["created_at", "2017-11-26 21:58:38.757305"], ["updated_at", "2017-11-26 21:58:38.757305"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:58:38 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 18ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:58:39 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:59:15.851713', '2017-11-26 21:59:15.851713', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:59:15.851713', '2017-11-26 21:59:15.851713', 298486374)[0m
  [1m[35m (79.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["card_nr", "123"], ["created_at", "2017-11-26 21:59:15.968235"], ["updated_at", "2017-11-26 21:59:15.968235"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:59:16 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 19ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:59:16 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:59:35.875327', '2017-11-26 21:59:35.875327', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:59:35.875327', '2017-11-26 21:59:35.875327', 298486374)[0m
  [1m[35m (109.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:59:36 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:59:36 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:59:54.981394', '2017-11-26 21:59:54.981394', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 21:59:54.981394', '2017-11-26 21:59:54.981394', 298486374)[0m
  [1m[35m (106.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 19:59:55 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 25ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 19:59:55 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:00:24.540200', '2017-11-26 22:00:24.540200', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:00:24.540200', '2017-11-26 22:00:24.540200', 298486374)[0m
  [1m[35m (60.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:00:24 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:00:24 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:00:35.580339', '2017-11-26 22:00:35.580339', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:00:35.580339', '2017-11-26 22:00:35.580339', 298486374)[0m
  [1m[35m (142.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:00:35 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:00:36 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:00:52.960480', '2017-11-26 22:00:52.960480', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:00:52.960480', '2017-11-26 22:00:52.960480', 298486374)[0m
  [1m[35m (54.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:00:53 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:00:53 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:01:04.897527', '2017-11-26 22:01:04.897527', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:01:04.897527', '2017-11-26 22:01:04.897527', 298486374)[0m
  [1m[35m (107.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:01:05 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:01:05 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:01:21.689321', '2017-11-26 22:01:21.689321', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:01:21.689321', '2017-11-26 22:01:21.689321', 298486374)[0m
  [1m[35m (126.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:01:22 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:01:22 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:02:12.410570', '2017-11-26 22:02:12.410570', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:02:12.410570', '2017-11-26 22:02:12.410570', 298486374)[0m
  [1m[35m (66.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:02:12 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:02:12 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:02:37.164640', '2017-11-26 22:02:37.164640', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:02:37.164640', '2017-11-26 22:02:37.164640', 298486374)[0m
  [1m[35m (80.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:02:37 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 19ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:02:37 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:03:46.384445', '2017-11-26 22:03:46.384445', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:03:46.384445', '2017-11-26 22:03:46.384445', 298486374)[0m
  [1m[35m (110.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:03:46 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:03:46 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:03:59.730700', '2017-11-26 22:03:59.730700', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:03:59.730700', '2017-11-26 22:03:59.730700', 298486374)[0m
  [1m[35m (65.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:04:00 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:04:00 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:04:16.684997', '2017-11-26 22:04:16.684997', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:04:16.684997', '2017-11-26 22:04:16.684997', 298486374)[0m
  [1m[35m (113.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:04:17 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 40ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:04:17 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:04:35.242292', '2017-11-26 22:04:35.242292', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:04:35.242292', '2017-11-26 22:04:35.242292', 298486374)[0m
  [1m[35m (56.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (5.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:04:35 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:04:35 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:05:21.463250', '2017-11-26 22:05:21.463250', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:05:21.463250', '2017-11-26 22:05:21.463250', 298486374)[0m
  [1m[35m (73.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:05:21 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:05:21 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:05:35.837494', '2017-11-26 22:05:35.837494', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:05:35.837494', '2017-11-26 22:05:35.837494', 298486374)[0m
  [1m[35m (55.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:05:36 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:05:36 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:05:52.182800', '2017-11-26 22:05:52.182800', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:05:52.182800', '2017-11-26 22:05:52.182800', 298486374)[0m
  [1m[35m (66.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:05:52 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 19ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:05:52 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:06:23.143130', '2017-11-26 22:06:23.143130', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:06:23.143130', '2017-11-26 22:06:23.143130', 298486374)[0m
  [1m[35m (53.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:06:23 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 18ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:06:23 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:07:11.101136', '2017-11-26 22:07:11.101136', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:07:11.101136', '2017-11-26 22:07:11.101136', 298486374)[0m
  [1m[35m (99.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:07:11 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:07:11 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:08:30.304710', '2017-11-26 22:08:30.304710', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:08:30.304710', '2017-11-26 22:08:30.304710', 298486374)[0m
  [1m[35m (102.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:08:30 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:08:30 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:09:17.164540', '2017-11-26 22:09:17.164540', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:09:17.164540', '2017-11-26 22:09:17.164540', 298486374)[0m
  [1m[35m (92.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:09:17 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:09:17 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:22:47.614160', '2017-11-26 22:22:47.614160', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:22:47.614160', '2017-11-26 22:22:47.614160', 298486374)[0m
  [1m[35m (63.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:22:47 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 19ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:22:48 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:23:01.528585', '2017-11-26 22:23:01.528585', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:23:01.528585', '2017-11-26 22:23:01.528585', 298486374)[0m
  [1m[35m (72.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:23:01 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:23:01 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:23:14.986739', '2017-11-26 22:23:14.986739', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:23:14.986739', '2017-11-26 22:23:14.986739', 298486374)[0m
  [1m[35m (102.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:23:15 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:23:15 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:23:52.611024', '2017-11-26 22:23:52.611024', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:23:52.611024', '2017-11-26 22:23:52.611024', 298486374)[0m
  [1m[35m (72.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:23:52 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:23:53 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:24:06.173151', '2017-11-26 22:24:06.173151', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:24:06.173151', '2017-11-26 22:24:06.173151', 298486374)[0m
  [1m[35m (66.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:24:06 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:24:06 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:24:13.381967', '2017-11-26 22:24:13.381967', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:24:13.381967', '2017-11-26 22:24:13.381967', 298486374)[0m
  [1m[35m (69.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:24:13 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 44ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:24:13 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:24:57.806257', '2017-11-26 22:24:57.806257', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:24:57.806257', '2017-11-26 22:24:57.806257', 298486374)[0m
  [1m[35m (60.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:24:58 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:24:58 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:25:17.176269', '2017-11-26 22:25:17.176269', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:25:17.176269', '2017-11-26 22:25:17.176269', 298486374)[0m
  [1m[35m (59.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:25:17 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 19ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:25:17 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:25:32.424431', '2017-11-26 22:25:32.424431', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:25:32.424431', '2017-11-26 22:25:32.424431', 298486374)[0m
  [1m[35m (66.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:25:32 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:25:32 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:25:44.951579', '2017-11-26 22:25:44.951579', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:25:44.951579', '2017-11-26 22:25:44.951579', 298486374)[0m
  [1m[35m (74.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:25:45 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:25:45 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:27:06.553717', '2017-11-26 22:27:06.553717', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:27:06.553717', '2017-11-26 22:27:06.553717', 298486374)[0m
  [1m[35m (55.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:27:06 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:27:06 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:27:44.465224', '2017-11-26 22:27:44.465224', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:27:44.465224', '2017-11-26 22:27:44.465224', 298486374)[0m
  [1m[35m (59.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:27:44 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:27:44 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:27:55.484039', '2017-11-26 22:27:55.484039', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:27:55.484039', '2017-11-26 22:27:55.484039', 298486374)[0m
  [1m[35m (52.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:27:55 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 18ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:27:55 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:28:13.472102', '2017-11-26 22:28:13.472102', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:28:13.472102', '2017-11-26 22:28:13.472102', 298486374)[0m
  [1m[35m (54.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:28:13 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:28:13 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:29:02.351747', '2017-11-26 22:29:02.351747', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:29:02.351747', '2017-11-26 22:29:02.351747', 298486374)[0m
  [1m[35m (101.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:29:02 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:29:02 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:30:10.394624', '2017-11-26 22:30:10.394624', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:30:10.394624', '2017-11-26 22:30:10.394624', 298486374)[0m
  [1m[35m (63.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:30:10 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:30:10 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:31:21.775049', '2017-11-26 22:31:21.775049', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:31:21.775049', '2017-11-26 22:31:21.775049', 298486374)[0m
  [1m[35m (54.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:31:22 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:31:22 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:31:56.908435', '2017-11-26 22:31:56.908435', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:31:56.908435', '2017-11-26 22:31:56.908435', 298486374)[0m
  [1m[35m (113.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:31:57 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:31:57 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:32:14.786972', '2017-11-26 22:32:14.786972', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:32:14.786972', '2017-11-26 22:32:14.786972', 298486374)[0m
  [1m[35m (48.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", "07/11"], ["expire_date", "07/2019"], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-11-26 22:32:14.884785"], ["updated_at", "2017-11-26 22:32:14.884785"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:32:15 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:32:15 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:33:05.929398', '2017-11-26 22:33:05.929398', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:33:05.929398', '2017-11-26 22:33:05.929398', 298486374)[0m
  [1m[35m (54.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:33:06 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:33:06 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:34:12.255178', '2017-11-26 22:34:12.255178', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:34:12.255178', '2017-11-26 22:34:12.255178', 298486374)[0m
  [1m[35m (66.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:34:12 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 19ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:34:12 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 26ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:34:22.082180', '2017-11-26 22:34:22.082180', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 22:34:22.082180', '2017-11-26 22:34:22.082180', 298486374)[0m
  [1m[35m (61.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 20:34:22 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 20:34:22 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 23:18:22.074238', '2017-11-26 23:18:22.074238', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 23:18:22.074238', '2017-11-26 23:18:22.074238', 298486374)[0m
  [1m[35m (77.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 21:18:22 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 20ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 21:18:22 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 23:41:00.558756', '2017-11-26 23:41:00.558756', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-26 23:41:00.558756', '2017-11-26 23:41:00.558756', 298486374)[0m
  [1m[35m (90.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-26 21:41:00 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-26 21:41:00 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "credit_cards"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-27 02:35:45.010353', '2017-11-27 02:35:45.010353', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-27 02:35:45.010353', '2017-11-27 02:35:45.010353', 298486374)[0m
  [1m[35m (46.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-27 00:35:45 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-27 00:35:45 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-27 02:41:17.976150', '2017-11-27 02:41:17.976150', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-27 02:41:17.976150', '2017-11-27 02:41:17.976150', 298486374)[0m
  [1m[35m (62.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-27 00:41:18 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 33ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-27 00:41:18 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":1234567890112233,\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/19\",\"cvv\":123,\"limit\":\"2000,00\"}"=>nil}
Completed 201 Created in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_cards" for 127.0.0.1 at 2017-11-27 00:41:18 -0200
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-27 02:43:22.314878', '2017-11-27 02:43:22.314878', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-27 02:43:22.314878', '2017-11-27 02:43:22.314878', 298486374)[0m
  [1m[35m (123.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-27 00:43:22 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 33ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_cards" for 127.0.0.1 at 2017-11-27 00:43:22 -0200
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-27 00:43:22 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
Completed 201 Created in 13ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-27 02:44:19.020658', '2017-11-27 02:44:19.020658', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-27 02:44:19.020658', '2017-11-27 02:44:19.020658', 298486374)[0m
  [1m[35m (97.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-27 00:44:19 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 45ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-27 00:44:19 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
Completed 201 Created in 28ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-11-27 00:44:19 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
No template found for CreditCardsController#update_card, rendering head :no_content
Completed 204 No Content in 19ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-27 02:45:27.584064', '2017-11-27 02:45:27.584064', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-27 02:45:27.584064', '2017-11-27 02:45:27.584064', 298486374)[0m
  [1m[35m (97.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-11-27 00:45:27 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
Completed 500 Internal Server Error in 48ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-27 00:45:27 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 18ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-27 00:45:28 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
Completed 201 Created in 13ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-27 02:45:39.572398', '2017-11-27 02:45:39.572398', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-27 02:45:39.572398', '2017-11-27 02:45:39.572398', 298486374)[0m
  [1m[35m (75.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-11-27 00:45:39 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
Completed 200 OK in 18ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-27 00:45:39 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
Completed 201 Created in 26ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-27 00:45:40 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-30 01:26:58.689742', '2017-11-30 01:26:58.689742', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-30 01:26:58.689742', '2017-11-30 01:26:58.689742', 298486374)[0m
  [1m[35m (102.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-29 23:26:59 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 46ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-11-29 23:26:59 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
Completed 500 Internal Server Error in 246ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-29 23:27:00 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
Completed 201 Created in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-30 01:27:37.157061', '2017-11-30 01:27:37.157061', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-30 01:27:37.157061', '2017-11-30 01:27:37.157061', 298486374)[0m
  [1m[35m (125.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-29 23:27:37 -0200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-29 23:27:37 -0200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-11-29 23:27:37 -0200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-30 01:27:45.031782', '2017-11-30 01:27:45.031782', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-30 01:27:45.031782', '2017-11-30 01:27:45.031782', 298486374)[0m
  [1m[35m (96.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-29 23:27:45 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 26ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-29 23:27:45 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
Completed 201 Created in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-11-29 23:27:45 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-30 01:29:35.130856', '2017-11-30 01:29:35.130856', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-30 01:29:35.130856', '2017-11-30 01:29:35.130856', 298486374)[0m
  [1m[35m (51.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-29 23:29:35 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
Completed 201 Created in 19ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-11-29 23:29:35 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-29 23:29:35 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-30 01:40:19.911400', '2017-11-30 01:40:19.911400', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-30 01:40:19.911400', '2017-11-30 01:40:19.911400', 298486374)[0m
  [1m[35m (67.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-29 23:40:20 -0200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-11-29 23:40:20 -0200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-29 23:40:20 -0200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-30 01:40:41.525467', '2017-11-30 01:40:41.525467', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-30 01:40:41.525467', '2017-11-30 01:40:41.525467', 298486374)[0m
  [1m[35m (55.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-29 23:40:41 -0200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-29 23:40:41 -0200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-11-29 23:40:41 -0200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-30 01:41:31.590198', '2017-11-30 01:41:31.590198', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-30 01:41:31.590198', '2017-11-30 01:41:31.590198', 298486374)[0m
  [1m[35m (94.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-11-29 23:41:31 -0200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-29 23:41:31 -0200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-29 23:41:32 -0200
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-30 01:42:03.697283', '2017-11-30 01:42:03.697283', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-30 01:42:03.697283', '2017-11-30 01:42:03.697283', 298486374)[0m
  [1m[35m (90.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-29 23:42:04 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-29 23:42:04 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
Completed 201 Created in 13ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-11-29 23:42:04 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" = ?[0m  [["card_nr", "1234567890112233"]]
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-30 01:42:57.072210', '2017-11-30 01:42:57.072210', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-30 01:42:57.072210', '2017-11-30 01:42:57.072210', 298486374)[0m
  [1m[35m (52.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-29 23:42:57 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-29 23:42:57 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
Completed 201 Created in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-11-29 23:42:57 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" = ?[0m  [["card_nr", "1234567890112233"]]
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-30 01:44:06.374220', '2017-11-30 01:44:06.374220', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-30 01:44:06.374220', '2017-11-30 01:44:06.374220', 298486374)[0m
  [1m[35m (110.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-11-29 23:44:06 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" = ?[0m  [["card_nr", "1234567890112233"]]
Completed 500 Internal Server Error in 30ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-29 23:44:06 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-29 23:44:06 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
Completed 201 Created in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-30 01:47:47.324926', '2017-11-30 01:47:47.324926', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-30 01:47:47.324926', '2017-11-30 01:47:47.324926', 298486374)[0m
  [1m[35m (79.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-29 23:47:47 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
Completed 201 Created in 19ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-11-29 23:47:47 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.5ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
Completed 200 OK in 20ms (Views: 0.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-29 23:47:47 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-30 02:09:15.491407', '2017-11-30 02:09:15.491407', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_date", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', '2017-11-17', '2017-11-17', '1', 1, '2017-11-30 02:09:15.491407', '2017-11-30 02:09:15.491407', 298486374)[0m
  [1m[35m (61.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-11-30 00:09:15 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 31ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-11-30 00:09:15 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
Completed 201 Created in 12ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-11-30 00:09:15 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_expire_date_should_match_mm/aaaa
-----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_date
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CreditCardTest: test_billing_date_should_match_dd/mm
----------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (13.6ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 03:15:54.719675', '2017-12-03 03:15:54.719675', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 03:15:54.719675', '2017-12-03 03:15:54.719675', 298486374)[0m
  [1m[35m (132.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 01:15:55 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 01:15:55 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 44ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 01:15:55 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.5ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 03:16:50.429980', '2017-12-03 03:16:50.429980', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 03:16:50.429980', '2017-12-03 03:16:50.429980', 298486374)[0m
  [1m[35m (81.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 01:16:50 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 20ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 03:16:50.946243"], ["updated_at", "2017-12-03 03:16:50.946243"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 01:16:50 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 11ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 01:16:50 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 03:17:41.900242', '2017-12-03 03:17:41.900242', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 03:17:41.900242', '2017-12-03 03:17:41.900242', 298486374)[0m
  [1m[35m (105.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 01:17:42 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 21ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (4.1ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 03:17:42.425397"], ["updated_at", "2017-12-03 03:17:42.425397"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 01:17:42 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 8ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 01:17:42 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 03:18:26.304522', '2017-12-03 03:18:26.304522', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 03:18:26.304522', '2017-12-03 03:18:26.304522', 298486374)[0m
  [1m[35m (126.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 03:18:26.518296"], ["updated_at", "2017-12-03 03:18:26.518296"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 01:18:26 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 28ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 01:18:26 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 01:18:26 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 03:18:46.250523', '2017-12-03 03:18:46.250523', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 03:18:46.250523', '2017-12-03 03:18:46.250523', 298486374)[0m
  [1m[35m (138.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 01:18:46 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 65ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 01:18:46 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 01:18:46 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 03:18:46.855471"], ["updated_at", "2017-12-03 03:18:46.855471"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 03:19:13.442807', '2017-12-03 03:19:13.442807', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 03:19:13.442807', '2017-12-03 03:19:13.442807', 298486374)[0m
  [1m[35m (134.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 01:19:13 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 41ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 01:19:13 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 03:19:14.002591"], ["updated_at", "2017-12-03 03:19:14.002591"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 01:19:14 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 8ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 03:24:58.967552', '2017-12-03 03:24:58.967552', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 03:24:58.967552', '2017-12-03 03:24:58.967552', 298486374)[0m
  [1m[35m (183.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 01:24:59 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 84ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 03:24:59.596560"], ["updated_at", "2017-12-03 03:24:59.596560"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 01:24:59 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 01:24:59 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:40:43.819620', '2017-12-03 04:40:43.819620', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:40:43.819620', '2017-12-03 04:40:43.819620', 298486374)[0m
  [1m[35m (89.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 02:40:44 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 04:40:44.215508"], ["updated_at", "2017-12-03 04:40:44.215508"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 02:40:44 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 02:40:44 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 10ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:41:12.195252', '2017-12-03 04:41:12.195252', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:41:12.195252', '2017-12-03 04:41:12.195252', 298486374)[0m
  [1m[35m (92.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 04:41:12.352998"], ["updated_at", "2017-12-03 04:41:12.352998"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 02:41:12 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 02:41:12 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 02:41:12 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 11ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:41:32.624162', '2017-12-03 04:41:32.624162', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:41:32.624162', '2017-12-03 04:41:32.624162', 298486374)[0m
  [1m[35m (53.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 02:41:32 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 35ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 02:41:33 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 28ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 02:41:33 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 04:41:33.065302"], ["updated_at", "2017-12-03 04:41:33.065302"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:42:03.994579', '2017-12-03 04:42:03.994579', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:42:03.994579', '2017-12-03 04:42:03.994579', 298486374)[0m
  [1m[35m (64.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 02:42:04 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 19ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 02:42:04 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 02:42:04 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 32ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 04:42:04.499918"], ["updated_at", "2017-12-03 04:42:04.499918"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:43:27.832632', '2017-12-03 04:43:27.832632', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:43:27.832632', '2017-12-03 04:43:27.832632', 298486374)[0m
  [1m[35m (67.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 02:43:28 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 36ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 04:43:28.252897"], ["updated_at", "2017-12-03 04:43:28.252897"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 02:43:28 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 02:43:28 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 10ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (1.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:43:53.008448', '2017-12-03 04:43:53.008448', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:43:53.008448', '2017-12-03 04:43:53.008448', 298486374)[0m
  [1m[35m (60.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 04:43:53.129954"], ["updated_at", "2017-12-03 04:43:53.129954"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 02:43:53 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 02:43:53 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:47:34.153260', '2017-12-03 04:47:34.153260', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:47:34.153260', '2017-12-03 04:47:34.153260', 298486374)[0m
  [1m[35m (55.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 04:47:34.313691"], ["updated_at", "2017-12-03 04:47:34.313691"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 02:47:34 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 19ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 02:47:34 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 11ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 02:47:34 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:48:28.978686', '2017-12-03 04:48:28.978686', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:48:28.978686', '2017-12-03 04:48:28.978686', 298486374)[0m
  [1m[35m (56.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 02:48:29 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 36ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 02:48:29 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 02:48:29 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 33ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 04:48:29.418941"], ["updated_at", "2017-12-03 04:48:29.418941"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:48:51.278535', '2017-12-03 04:48:51.278535', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:48:51.278535', '2017-12-03 04:48:51.278535', 298486374)[0m
  [1m[35m (59.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 02:48:51 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 04:48:51.740869"], ["updated_at", "2017-12-03 04:48:51.740869"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 02:48:51 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 10ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 02:48:51 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:49:15.745306', '2017-12-03 04:49:15.745306', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:49:15.745306', '2017-12-03 04:49:15.745306', 298486374)[0m
  [1m[35m (93.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 02:49:16 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 02:49:16 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 17ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 04:49:16.238639"], ["updated_at", "2017-12-03 04:49:16.238639"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 02:49:16 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:52:18.569574', '2017-12-03 04:52:18.569574', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:52:18.569574', '2017-12-03 04:52:18.569574', 298486374)[0m
  [1m[35m (62.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 02:52:18 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.5ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 38ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 02:52:18 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 02:52:19 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 10ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:52:31.289224', '2017-12-03 04:52:31.289224', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:52:31.289224', '2017-12-03 04:52:31.289224', 298486374)[0m
  [1m[35m (88.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 02:52:31 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 36ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 02:52:31 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 02:52:31 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 10ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:53:07.206235', '2017-12-03 04:53:07.206235', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:53:07.206235', '2017-12-03 04:53:07.206235', 298486374)[0m
  [1m[35m (84.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 02:53:07 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 02:53:07 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 02:53:07 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 10ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:53:24.253467', '2017-12-03 04:53:24.253467', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:53:24.253467', '2017-12-03 04:53:24.253467', 298486374)[0m
  [1m[35m (60.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 02:53:24 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 02:53:24 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 02:53:24 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 11ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:55:35.460158', '2017-12-03 04:55:35.460158', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:55:35.460158', '2017-12-03 04:55:35.460158', 298486374)[0m
  [1m[35m (54.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 02:55:35 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 35ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 02:55:35 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 500 Internal Server Error in 32ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 02:55:35 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 04:55:35.908277"], ["updated_at", "2017-12-03 04:55:35.908277"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:58:37.243099', '2017-12-03 04:58:37.243099', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:58:37.243099', '2017-12-03 04:58:37.243099', 298486374)[0m
  [1m[35m (75.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 02:58:37 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 35ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 02:58:37 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 500 Internal Server Error in 34ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 04:58:37.630476"], ["updated_at", "2017-12-03 04:58:37.630476"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 02:58:37 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.5ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:59:14.239052', '2017-12-03 04:59:14.239052', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 04:59:14.239052', '2017-12-03 04:59:14.239052', 298486374)[0m
  [1m[35m (93.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 04:59:14.388539"], ["updated_at", "2017-12-03 04:59:14.388539"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 02:59:14 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 500 Internal Server Error in 26ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 02:59:14 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 02:59:14 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:00:32.164623', '2017-12-03 05:00:32.164623', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:00:32.164623', '2017-12-03 05:00:32.164623', 298486374)[0m
  [1m[35m (106.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 03:00:32 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 500 Internal Server Error in 60ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 03:00:32 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 05:00:32.587252"], ["updated_at", "2017-12-03 05:00:32.587252"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 03:00:32 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:00:59.338885', '2017-12-03 05:00:59.338885', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:00:59.338885', '2017-12-03 05:00:59.338885', 298486374)[0m
  [1m[35m (58.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 03:00:59 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 03:00:59 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 500 Internal Server Error in 43ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 03:00:59 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:01:39.900727', '2017-12-03 05:01:39.900727', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:01:39.900727', '2017-12-03 05:01:39.900727', 298486374)[0m
  [1m[35m (98.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 03:01:40 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 500 Internal Server Error in 35ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 03:01:40 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 03:01:40 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (1.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:02:06.365841', '2017-12-03 05:02:06.365841', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:02:06.365841', '2017-12-03 05:02:06.365841', 298486374)[0m
  [1m[35m (123.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 03:02:06 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 50ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 03:02:06 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 05:02:06.900692"], ["updated_at", "2017-12-03 05:02:06.900692"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 03:02:06 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:03:26.061273', '2017-12-03 05:03:26.061273', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:03:26.061273', '2017-12-03 05:03:26.061273', 298486374)[0m
  [1m[35m (58.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 05:03:26.192948"], ["updated_at", "2017-12-03 05:03:26.192948"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 03:03:26 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 28ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 03:03:26 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 03:03:26 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:03:53.458797', '2017-12-03 05:03:53.458797', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:03:53.458797', '2017-12-03 05:03:53.458797', 298486374)[0m
  [1m[35m (96.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 03:03:53 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 03:03:53 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 17ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 03:03:53 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 500 Internal Server Error in 28ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 05:03:54.000104"], ["updated_at", "2017-12-03 05:03:54.000104"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.5ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:05:33.285448', '2017-12-03 05:05:33.285448', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:05:33.285448', '2017-12-03 05:05:33.285448', 298486374)[0m
  [1m[35m (53.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 05:05:33.455771"], ["updated_at", "2017-12-03 05:05:33.455771"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 03:05:33 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 18ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 03:05:33 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 03:05:33 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:05:53.101258', '2017-12-03 05:05:53.101258', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:05:53.101258', '2017-12-03 05:05:53.101258', 298486374)[0m
  [1m[35m (84.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 03:05:53 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 35ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 05:05:53.525647"], ["updated_at", "2017-12-03 05:05:53.525647"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 03:05:53 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 03:05:53 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:06:55.521806', '2017-12-03 05:06:55.521806', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:06:55.521806', '2017-12-03 05:06:55.521806', 298486374)[0m
  [1m[35m (48.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 03:06:55 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 35ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 03:06:55 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 05:06:55.991693"], ["updated_at", "2017-12-03 05:06:55.991693"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 03:06:56 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:10:43.337612', '2017-12-03 05:10:43.337612', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:10:43.337612', '2017-12-03 05:10:43.337612', 298486374)[0m
  [1m[35m (63.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 05:10:43.479939"], ["updated_at", "2017-12-03 05:10:43.479939"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 03:10:43 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 18ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 03:10:43 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 03:10:43 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 10ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:11:03.099588', '2017-12-03 05:11:03.099588', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:11:03.099588', '2017-12-03 05:11:03.099588', 298486374)[0m
  [1m[35m (57.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 05:11:03.255036"], ["updated_at", "2017-12-03 05:11:03.255036"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 03:11:03 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 27ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 03:11:03 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 03:11:03 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:11:38.024852', '2017-12-03 05:11:38.024852', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:11:38.024852', '2017-12-03 05:11:38.024852', 298486374)[0m
  [1m[35m (58.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 05:11:38.179666"], ["updated_at", "2017-12-03 05:11:38.179666"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 03:11:38 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 28ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 03:11:38 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 03:11:38 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:12:05.061972', '2017-12-03 05:12:05.061972', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:12:05.061972', '2017-12-03 05:12:05.061972', 298486374)[0m
  [1m[35m (57.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 03:12:05 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 27ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 03:12:05 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 03:12:05 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:12:26.586491', '2017-12-03 05:12:26.586491', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:12:26.586491', '2017-12-03 05:12:26.586491', 298486374)[0m
  [1m[35m (89.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 03:12:26 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 19ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 03:12:27 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 03:12:27 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 10ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:13:05.736544', '2017-12-03 05:13:05.736544', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:13:05.736544', '2017-12-03 05:13:05.736544', 298486374)[0m
  [1m[35m (119.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 03:13:06 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 64ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 05:13:06.230959"], ["updated_at", "2017-12-03 05:13:06.230959"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 03:13:06 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 03:13:06 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:15:52.936869', '2017-12-03 05:15:52.936869', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:15:52.936869', '2017-12-03 05:15:52.936869', 298486374)[0m
  [1m[35m (56.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 03:15:53 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 19ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 03:15:53 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 43ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 03:15:53 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 05:15:53.394058"], ["updated_at", "2017-12-03 05:15:53.394058"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:17:38.365952', '2017-12-03 05:17:38.365952', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:17:38.365952', '2017-12-03 05:17:38.365952', 298486374)[0m
  [1m[35m (67.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 03:17:38 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 19ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 05:17:38.839579"], ["updated_at", "2017-12-03 05:17:38.839579"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 03:17:38 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 10ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 03:17:38 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:19:03.446608', '2017-12-03 05:19:03.446608', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:19:03.446608', '2017-12-03 05:19:03.446608', 298486374)[0m
  [1m[35m (73.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 03:19:03 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 52ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 05:19:03.926253"], ["updated_at", "2017-12-03 05:19:03.926253"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 03:19:03 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 03:19:03 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 10ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:19:43.837172', '2017-12-03 05:19:43.837172', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:19:43.837172', '2017-12-03 05:19:43.837172', 298486374)[0m
  [1m[35m (119.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 03:19:44 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 64ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 03:19:44 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 03:19:44 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 05:19:44.298943"], ["updated_at", "2017-12-03 05:19:44.298943"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:19:54.259710', '2017-12-03 05:19:54.259710', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:19:54.259710', '2017-12-03 05:19:54.259710', 298486374)[0m
  [1m[35m (119.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 03:19:54 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 03:19:54 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 48ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 03:19:54 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 05:19:54.781773"], ["updated_at", "2017-12-03 05:19:54.781773"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:20:01.064295', '2017-12-03 05:20:01.064295', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:20:01.064295', '2017-12-03 05:20:01.064295', 298486374)[0m
  [1m[35m (127.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 03:20:01 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 19ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 03:20:01 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 48ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 03:20:01 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 05:20:01.624287"], ["updated_at", "2017-12-03 05:20:01.624287"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "credit_cards"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:20:15.782313', '2017-12-03 05:20:15.782313', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "billing_month", "expire_month", "expire_year", "cvv", "limit", "created_at", "updated_at", "id") VALUES ('1', 'MyString', 14, 11, NULL, 2020, '1', 1, '2017-12-03 05:20:15.782313', '2017-12-03 05:20:15.782313', 298486374)[0m
  [1m[35m (98.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_expire_date_must_be_valid_date
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_billing_date
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_card_nr_should_be_unique
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("card_nr", "print_name", "billing_date", "expire_month", "cvv", "limit", "created_at", "updated_at", "expire_year", "billing_month") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["card_nr", "1234123412341234"], ["print_name", "Oberdan Araujo"], ["billing_date", 7], ["expire_month", 7], ["cvv", "123"], ["limit", 200000], ["created_at", "2017-12-03 05:20:15.936897"], ["updated_at", "2017-12-03 05:20:15.936897"], ["expire_year", 2019], ["billing_month", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234123412341234"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CreditCardTest: test_should_have_expire_month
---------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CreditCardTest: test_should_have_limit
--------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CreditCardTest: test_cvv_should_have_only_3_numbers
---------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CreditCardTest: test_print_name_should_have_5_to_30_chars
---------------------------------------------------------
  [1m[36mCreditCard Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345,67xbn890.112.233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_have_card_nr
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
CreditCardTest: test_should_have_cvv
------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CreditCardTest: test_should_have_print_name
-------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CreditCardTest: test_card_nr_should_have_only_numbers
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CreditCardTest: test_expire_date_should_not_be_in_the_past
----------------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112345"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CreditCardTest: test_should_have_expire_year
--------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CreditCardTest: test_should_not_be_empty
----------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CreditCardTest: test_card_nr_should_have_16_digits
--------------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "12345678901123"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CreditCardTest: test_should_have_billing_month
----------------------------------------------
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", "1234567890112233"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UpdatingCardTest: test_updating_cards
-------------------------------------
Started PUT "/credit_cards/update_card" for 127.0.0.1 at 2017-12-03 03:20:16 -0200
Processing by CreditCardsController#update_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."card_nr" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AddingCardsTest: test_adding_cards
----------------------------------
Started POST "/credit_cards/add_card" for 127.0.0.1 at 2017-12-03 03:20:16 -0200
Processing by CreditCardsController#add_card as HTML
  Parameters: {"{\"card_nr\":\"1234567890112233\",\"print_name\":\"Oberdan Araujo\",\"billing_date\":\"07/07\",\"expire_date\":\"07/2016\",\"cvv\":\"123\",\"limit\":\"2000.00\"}"=>nil}
  [1m[36mCreditCard Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "credit_cards" WHERE "credit_cards"."card_nr" = ? LIMIT ?[0m  [["card_nr", ""], ["LIMIT", 1]]
Completed 201 Created in 11ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
ListingCardsTest: test_list_cards
---------------------------------
Started GET "/credit_cards/list_cards" for 127.0.0.1 at 2017-12-03 03:20:16 -0200
Processing by CreditCardsController#list_cards as HTML
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
